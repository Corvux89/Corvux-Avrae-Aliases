[
    {
        "Class": "Engineer",
        "subclassLevel": 3,
        "hitDie": "d8",
        "counters": [
            {
                "name": "Tech Points",
                "level": 1,
                "value": [
                    2,
                    4,
                    6,
                    8,
                    10,
                    12,
                    14,
                    16,
                    18,
                    20,
                    22,
                    24,
                    26,
                    28,
                    30,
                    32,
                    34,
                    36,
                    38,
                    40
                ],
                "modifier": "intelligenceMod",
                "display": "default",
                "reset": "short",
                "classLevel": "EngineerLevel",
                "desc": "You have a number of tech points equal to your engineer level x 2, as shown in the Tech Points column of the engineer table, + your Intelligence modifier. You use these tech points to cast tech powers. You regain all expended tech points when you finish a short or long rest."
            },
            {
                "name": "Potent Aptitude",
                "level": 1,
                "value": "proficiencyBonus",
                "display": "bubble",
                "reset": "short",
                "classLevel": "EngineerLevel",
                "desc": "Your technological experience lends you an uncommon insight that you can use to bolster your allies. To do so, you use a bonus action on your turn to choose one creature other than yourself within 60 feet of you who can hear you. That creature gains one Potent Aptitude die, a d4. This die changes as you gain engineer levels, as shown in the Potent Aptitude column of the engineer table.\n\nOnce within the next 10 minutes, the creature can roll the die and add the number rolled to one ability check, attack roll, or saving throw it makes. The creature can wait until after it rolls the d20 beforedeciding to use the Potent Aptitude die, but must decide before the GM says whether the roll succeeds or fails. Once the Potent Aptitude die is rolled, it is lost.\n\nA creature can have only one Potent Aptitude die at a time.\n\nYou can use this feature a number of times equal to your proficiency bonus, as shown in the engineer table. You regain any expended uses when you finish a short or long rest."
            },
            {
                "name": "Infuse Item",
                "level": 2,
                "display": "bubble",
                "value": 1,
                "reset": "long",
                "desc": "You gain the ability to temporarily enhance a weapon or armor. At the end of a long rest, you can touch one unenhanced object that is a suit of armor, a shield, or a simple or martial weapon. Until the end of your next long rest or until you die, the object becomes an enhanced item, granting a +1 bonus to AC if it’s armor or a shield or a +1 bonus to attack and damage rolls if it’s a weapon.\n\nOnce you’ve used this feature, you can’t use it again until you finish a long rest.\n\nThis bonus increases to +2 at 10th level and +3 at 15th level.",
                "classLevel": "EngineerLevel"
            }
        ],
        "actions": [
            {
                "level": 1,
                "action": {
                    "name": "Potent Aptitude",
                    "_v": 2,
                    "activation_type": 3,
                    "verb": "uses",
                    "automation": [
                        {
                            "type": "variable",
                            "value": "{caster.levels.get('Engineer')}",
                            "name": "level"
                        },
                        {
                            "type": "variable",
                            "value": "4 if level < 5 else 6 if level < 9 else 8 if level < 13 else 10 if level < 17 else 12",
                            "name": "die"
                        },
                        {
                            "type": "target",
                            "target": "each",
                            "effects": [
                                {
                                    "type": "ieffect2",
                                    "name": "Potent Aptitude",
                                    "duration": 100,
                                    "desc": "The creature can roll the die and add the number rolled to one ability check, attack roll, or saving throw it makes. Once the Potent Aptitude die is rolled, it is lost.\n{2 if choice == 'gott' else 1}d{die}",
                                    "buttons": [
                                        {
                                            "label": "Use Potent Aptitude",
                                            "verb": "is using assistance",
                                            "style": 3,
                                            "automation": [
                                                {
                                                    "type": "remove_ieffect"
                                                },
                                                {
                                                    "type": "roll",
                                                    "dice": "{ieffect.desc.split()[-1]}",
                                                    "name": "Potent Aptitude"
                                                },
                                                {
                                                    "type": "text",
                                                    "text": "The creature can roll the die and add the number rolled to one ability check, attack roll, or saving throw it makes. Once the Potent Aptitude die is rolled, it is lost."
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "text",
                            "title": "Meta",
                            "text": "**Die to add:** {2 if choice == 'gott' else 1}d{die}"
                        },
                        {
                            "type": "text",
                            "text": "Once within the next 10 minutes, the creature can roll the die and add the number rolled to one ability check, attack roll, or saving throw it makes. The creature can wait until after it rolls the d20 before deciding to use the Potent Aptitude die, but must decide before the GM says whether the roll succeeds or fails. Once the Potent Aptitude die is rolled, it is lost."
                        },
                        {
                            "type": "counter",
                            "counter": "Potent Aptitude",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "condition",
                            "condition": "choice == 'gott'",
                            "onFalse": [],
                            "onTrue": [
                                {
                                    "type": "counter",
                                    "counter": "Goggles of the Tinkerer",
                                    "amount": 1,
                                    "errorBehaviour": "raise"
                                },
                                {
                                    "type": "text",
                                    "text": "Once per turn, when you use a Potent Aptitude feature, you can spend 1 charge to roll the Potent Aptitude dice twice and add them together.",
                                    "title": "Goggles of the Tinkerer"
                                }
                            ]
                        }
                    ]
                }
            }
        ]
    },
    {
        "Class": "Engineer",
        "subclass": "Armormech",
        "counters": [
            {
                "name": "Armormech's Celerity",
                "level": 14,
                "value": "intelligenceMod",
                "display": "bubble",
                "reset": "long",
                "classLevel": "EngineerLevel",
                "desc": "When you take the Attack action or use your action to a cast a tech power of 1st-level or higher, you can make one weapon attack as a bonus action.\n\nYou can use this feature a number of times equal to your Intelligence modifier (a minimum of once). You regain all expended uses when you complete a long rest."
            }
        ]
    },
    {
        "Class": "Engineer",
        "subclass": "Armstech",
        "counters": [
            {
                "name": "Targeting Matrix",
                "level": 14,
                "value": "intelligenceMod",
                "display": "bubble",
                "reset": "long",
                "classLevel": "EngineerLevel",
                "desc": "When you cast a tech power that allows you to force creatures in an area to make a saving throw, you can instead make an attack roll with your modified weapon against a single target that would be in the range of the power. On a hit, the target suffers the effects as though they failed their saving throw. If the power would affect more than one creature, it instead affects only one.\n\nYou can use this feature a number of times equal to your Intelligence modifier (a minimum of once). You regain any expended uses when you finish a long rest."
            }
        ]
    },
    {
        "Class": "Engineer",
        "subclass": "Gadgeteer",
        "counters": [
            {
                "name": "Versatile Direction",
                "level": 6,
                "value": "intelligenceMod",
                "display": "bubble",
                "reset": "long",
                "classLevel": "EngineerLevel",
                "desc": "You can take a second bonus action on each of your turns. You can use this feature a number of times equal to your Intelligence modifier (a minimum of once). You regain all expended uses when you finish a long rest."
            }
        ],
        "actions": [
            {
                "level": "3",
                "action": {
                    "name": "Projected Barrier - Environmental Barrier",
                    "_v": 2,
                    "activation_type": 3,
                    "verb": "uses",
                    "automation": [
                        {
                            "type": "variable",
                            "value": "{caster.levels.get('Engineer')}",
                            "name": "level"
                        },
                        {
                            "type": "variable",
                            "value": "4 if level < 5 else 6 if level < 9 else 8 if level < 13 else 10 if level < 17 else 12",
                            "name": "die"
                        },
                        {
                            "type": "condition",
                            "condition": "choice in 'acidcoldfireforcelightningnecroticpoisonpsychicsonic'",
                            "onTrue": [
                                {
                                    "type": "roll",
                                    "dice": "1d{die}+{level}",
                                    "name": "barrierAmt",
                                    "displayName": "Barrier HP"
                                },
                                {
                                    "type": "target",
                                    "target": "each",
                                    "effects": [
                                        {
                                            "type": "ieffect2",
                                            "name": "Environmental Barrier",
                                            "desc": "Barrier HP: {barrierAmt}\n - Damage Type: {choice}",
                                            "buttons": []
                                        }
                                    ]
                                },
                                {
                                    "type": "text",
                                    "text": "As a bonus action while wearing your gadgeteer harness, you can expend a use of your Potent Aptitude to project a barrier on a friendly creature you can see within 30 feet. A creature can only have one barrier active at a time.",
                                    "title": "Projected Barrier"
                                },
                                {
                                    "type": "text",
                                    "title": "Environmental Barrier",
                                    "text": "You project an environmental barrier that lasts until the end of your next short or long rest. The barrier has a number of hit points equal to the amount rolled on your Potent Aptitude die + your engineer level. Whenever a creature with this barrier takes damage (one of acid, cold, fire, force, lightning, necrotic, poison, psychic, or sonic, chosen by you when you activate the effect), the barrier takes the damage instead. If this damage reduces the barrier to 0 hit points, the creature take any remaining damage.\n\nDamage Type: {choice}"
                                },
                                {
                                    "type": "counter",
                                    "counter": "Potent Aptitude",
                                    "amount": 1,
                                    "errorBehaviour": "raise"
                                }
                            ],
                            "onFalse": [
                                {
                                    "type": "text",
                                    "text": "Please use `-choice` to specify the damage type the barrier protects against.\nEx: `!a 'Projected Barrier - Environmental Barrier' -t zo1 -choice cold`"
                                }
                            ]
                        }
                    ]
                }
            },
            {
                "level": "3",
                "action": {
                    "name": "Projected Barrier - Physical Barrier",
                    "_v": 2,
                    "activation_type": 3,
                    "verb": "uses",
                    "automation": [
                        {
                            "type": "variable",
                            "value": "{caster.levels.get('Engineer')}",
                            "name": "level"
                        },
                        {
                            "type": "variable",
                            "value": "4 if level < 5 else 6 if level < 9 else 8 if level < 13 else 10 if level < 17 else 12",
                            "name": "die"
                        },
                        {
                            "type": "condition",
                            "condition": "choice in 'energyionkinetic'",
                            "onTrue": [
                                {
                                    "type": "roll",
                                    "dice": "1d{die}+{ceil(level/2)}",
                                    "name": "barrierAmt",
                                    "displayName": "Barrier HP"
                                },
                                {
                                    "type": "target",
                                    "target": "each",
                                    "effects": [
                                        {
                                            "type": "ieffect2",
                                            "name": "Physical Barrier",
                                            "desc": "Barrier HP: {barrierAmt}\n - Damage Type: {choice}",
                                            "buttons": []
                                        }
                                    ]
                                },
                                {
                                    "type": "text",
                                    "text": "As a bonus action while wearing your gadgeteer harness, you can expend a use of your Potent Aptitude to project a barrier on a friendly creature you can see within 30 feet. A creature can only have one barrier active at a time.",
                                    "title": "Projected Barrier"
                                },
                                {
                                    "type": "text",
                                    "title": "Physical Barrier",
                                    "text": "You project a physical barrier that lasts until the end of your next short or long rest. The barrier has a number of hit points equal to the amount rolled on your Potent Aptitude die + half your engineer level. Whenever a creature with this barrier takes damage (one of energy, ion, or kinetic, chosen by you when you activate the effect), the barrier takes the damage instead. If this damage reduces the barrier to 0 hit points, the creature take any remaining damage.\n\nDamage Type: {choice}"
                                },
                                {
                                    "type": "counter",
                                    "counter": "Potent Aptitude",
                                    "amount": 1,
                                    "errorBehaviour": "raise"
                                }
                            ],
                            "onFalse": [
                                {
                                    "type": "text",
                                    "text": "Please use `-choice` to specify the damage type the barrier protects against.\nEx: `!a 'Projected Barrier - Physical Barrier' -t zo1 -choice kinetic`"
                                }
                            ]
                        }
                    ]
                }
            }
        ]
    },
    {
        "Class": "Engineer",
        "subclass": "Unstable",
        "counters": [
            {
                "name": "Modification Slots",
                "level": 3,
                "value": [
                    0,
                    0,
                    4,
                    4,
                    5,
                    5,
                    5,
                    5,
                    6,
                    6,
                    7,
                    7,
                    8,
                    8,
                    8,
                    8,
                    9,
                    9,
                    9,
                    9
                ],
                "display": "bubble",
                "reset": "long",
                "classLevel": "EngineerLevel",
                "desc": "Your tinkercannon come equipped with four overrides, and they gain more at higher levels, as shown in the Modification Slots column of the engineer table. Each time you trigger an Unstable Engineering Surge, you can use an override to reroll the percentile dice. You must use the new result, you can only do this once per surge, and each time you do so in excess of your proficiency bonus (resetting on a long rest) your maximum tech points is reduced by 1 until you complete a long rest. You regain all expended overrides when you complete a long rest."
            }
        ],
        "actions": [
            {
                "level": 3,
                "action": {
                    "name": "Unstable Volley",
                    "_v": 2,
                    "activation_type": 3,
                    "automation": [
                        {
                            "type": "roll",
                            "dice": "1d6",
                            "name": "damage",
                            "cantripScale": true
                        },
                        {
                            "type": "target",
                            "target": "each",
                            "effects": [
                                {
                                    "type": "save",
                                    "stat": "dex",
                                    "fail": [
                                        {
                                            "type": "damage",
                                            "damage": "{damage} [lightning]"
                                        }
                                    ],
                                    "success": [
                                        {
                                            "type": "damage",
                                            "damage": "{damage}/2 [lightning]"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "counter",
                            "counter": "Potent Aptitude",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "text",
                            "text": "While wielding your tinkercannon, as a bonus action you can expend one use of your Potent Aptitude to launch a volley of unstable energy at a surface located within 30 feet of you that you can see. This energy adheres to the surface for 1 minute, after which it erupts. As a part of this bonus action, or as a bonus action on a following turn, you can cause the energy to erupt early. Each creature within 5 feet of it must make a Dexterity saving throw against your tech save DC. A creature takes 1d6 lightning damage on a failed save, or half as much on a successful one.\\n\\nThe range at which you can launch your volley increases to 60 feet at 9th level, and 120 feet at 17th level.\\n\\nThis damage increases when you reach certain levels in this class, increasing to 2d6 at 5th level, 3d6 at 11th level, and 4d6 at 17th level"
                        }
                    ]
                }
            }
        ]
    },
    {
        "Class": "Engineer",
        "subclass": "Artificer",
        "counters": []
    },
    {
        "Class": "Engineer",
        "subclass": "Astrotech",
        "counters": [
            {
                "name": "Direct Controller",
                "level": 6,
                "value": "proficiencyBonus",
                "display": "bubble",
                "reset": "long",
                "classLevel": "EngineerLevel",
                "desc": "Your mastery of droids improves your ability to manipulate them. When you cast a power that could affect only droids or constructs, and you only affect droids with the power, you can choose to treat the power as if cast at your Max Power Level.\n\nYou can use this feature a number of times equal to your proficiency bonus, as shown in the engineer table. You regain all expended uses when you complete a long rest."
            },
            {
                "name": "Modification Slots",
                "level": 3,
                "value": [
                    0,
                    0,
                    4,
                    4,
                    5,
                    5,
                    5,
                    5,
                    6,
                    6,
                    7,
                    7,
                    8,
                    8,
                    8,
                    8,
                    9,
                    9,
                    9,
                    9
                ],
                "display": "bubble",
                "reset": "long",
                "classLevel": "EngineerLevel",
                "desc": "Lastly, while bonded and within 10 feet of you, when you would use your action to cast a 1st-level tech power, you can instead have your droid companion cast it. You still expend tech points as normal, and if the power requires concentration, it still uses your concentration. Your droid companion must use its action, and it uses its tech attack modifier and tech save DC instead of your own. At 5th level, your droid can cast 2nd-level tech powers in this way. This increases to 3rd-level powers at 9th level, 4th-level powers at 13th level, and 5th-level powers at 17th level. When you cast a power, you consume a number of uses of this feature equal to that power’s level."
            }
        ]
    },
    {
        "Class": "Engineer",
        "subclass": "Audiotech",
        "counters": [
            {
                "name": "Potent Amplitude",
                "level": 3,
                "value": 2,
                "display": "bubble",
                "reset": "long",
                "classLevel": "EngineerLevel"
            },
            {
                "name": "Legendary Coda",
                "level": 18,
                "value": 1,
                "display": "bubble",
                "reset": "long",
                "classLevel": "EngineerLevel",
                "desc": "You’ve gained mastery over your modified instrument. As an action, you can end your enhanced song in a triumphant blast of power with an effect determined by the song you are playing.\n\nOnce you’ve used this feature, you must complete a long rest before you can use it again."
            }
        ],
        "actions": [
            {
                "level": 5,
                "action": {
                    "name": "Battle Song Enhancement",
                    "_v": 2,
                    "automation": [
                        {
                            "type": "condition",
                            "condition": "len(targets) <=1",
                            "onTrue": [
                                {
                                    "type": "target",
                                    "target": "each",
                                    "effects": [
                                        {
                                            "type": "attack",
                                            "miss": [],
                                            "hit": [
                                                {
                                                    "type": "damage",
                                                    "damage": "1d8 [sonic]"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "attack",
                                            "miss": [],
                                            "hit": [
                                                {
                                                    "type": "damage",
                                                    "damage": "1d8 [sonic]"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "onFalse": [
                                {
                                    "type": "target",
                                    "target": "each",
                                    "effects": [
                                        {
                                            "type": "attack",
                                            "miss": [],
                                            "hit": [
                                                {
                                                    "type": "damage",
                                                    "damage": "1d8 [sonic]"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "text",
                            "text": "While playing your Song of Battle, as an action, you can send forth busts of directed sonic energy, make two ranged power attacks. These attacks can target the same creature different ones. Make separate attack rolls for each burst. The attack has a range equal to the radius of your song, and deals 1d8 sonic damage on a hit."
                        }
                    ]
                }
            }
        ]
    },
    {
        "Class": "Engineer",
        "subclass": "Biochem",
        "counters": [
            {
                "name": "Epicenter",
                "level": 14,
                "value": 1,
                "display": "bubble",
                "reset": "short",
                "classLevel": "EngineerLevel",
                "desc": "As a reaction when you take damage from a creature within 15 feet of you that you can see, you can use one of your mixtures. The effects of the mixture release in a 15-foot-radius sphere centered on you, and if the mixture requires a saving throw, you automatically succeed on it. Additionally, the affected area is difficult terrain to creatures other than you until the end of your next turn.\n\nOnce you’ve used this feature, you must complete a short or long rest before you can use it again."
            }
        ]
    },
    {
        "Class": "Engineer",
        "subclass": "Biotech",
        "counters": [],
        "actions": [
            {
                "level": 3,
                "action": {
                    "name": "Quick-Release Stimulant",
                    "_v": 2,
                    "activation_type": 4,
                    "list_display_override": "Use `-amt` to specify the damage amount mitigated",
                    "automation": [
                        {
                            "type": "counter",
                            "counter": "ishouldneverexist",
                            "amount": 0,
                            "errorBehaviour": "ignore"
                        },
                        {
                            "type": "variable",
                            "name": "dmg",
                            "value": "lastCounterRequestedAmount"
                        },
                        {
                            "type": "condition",
                            "condition": "dmg > 0",
                            "onTrue": [
                                {
                                    "type": "variable",
                                    "name": "engineer_level",
                                    "value": "caster.levels.get('Engineer',0)"
                                },
                                {
                                    "type": "roll",
                                    "dice": "1d10+{constitutionMod}+{engineer_level}",
                                    "name": "reduction",
                                    "fixedValue": true
                                },
                                {
                                    "type": "counter",
                                    "counter": "Potent Aptitude",
                                    "amount": 1,
                                    "errorBehaviour": "raise",
                                    "fixedValue": true
                                },
                                {
                                    "type": "target",
                                    "target": "self",
                                    "effects": [
                                        {
                                            "type": "damage",
                                            "damage": "-({min(dmg,reduction)}) [healing]",
                                            "fixedValue": true
                                        },
                                        {
                                            "type": "condition",
                                            "condition": "reduction > dmg",
                                            "onFalse": [],
                                            "onTrue": [
                                                {
                                                    "type": "temphp",
                                                    "amount": "{reduction - dmg}"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "text",
                                    "text": "When you are dealt damage by an attack while you have at least one cybernetic augmentation installed, you can use your reaction and expend one use of your Potent Aptitude to reduce the damage you take. The damage is reduced by an amount equal to 1d10 + your Constitution modifier + your engineer level. If you reduce the damage to 0, you can gain temporary hit points equal to the remaining damage reduction."
                                }
                            ],
                            "onFalse": [
                                {
                                    "type": "text",
                                    "text": "Use `-amt` to specify the amount of damage being reduced"
                                }
                            ]
                        }
                    ]
                }
            },
            {
                "level": 6,
                "action": {
                    "name": "Overclock Body",
                    "_v": 2,
                    "activation_type": 8,
                    "list_display_override": "Use `-amt` to specify the amount of points used",
                    "verb": "uses",
                    "automation": [
                        {
                            "type": "counter",
                            "counter": "ishouldneverexist",
                            "amount": 0,
                            "errorBehaviour": "ignore"
                        },
                        {
                            "type": "variable",
                            "name": "amt",
                            "value": "lastCounterRequestedAmount"
                        },
                        {
                            "type": "condition",
                            "condition": "lastCounterRequestedAmount > 0",
                            "onTrue": [
                                {
                                    "type": "counter",
                                    "counter": "Tech Points",
                                    "amount": "{-amt}",
                                    "fixedValue": true
                                },
                                {
                                    "type": "target",
                                    "target": "self",
                                    "effects": [
                                        {
                                            "type": "damage",
                                            "damage": "{amt} [true]",
                                            "fixedValue": true
                                        },
                                        {
                                            "type": "ieffect2",
                                            "name": "Overclocked",
                                            "effects": {
                                                "max_hp_bonus": "-amt"
                                            },
                                            "stacking": true
                                        }
                                    ]
                                },
                                {
                                    "type": "text",
                                    "text": "You've learned to use your body as a conduit for your tech powers. When you cast a tech power, you can choose to pay up to half the cost of the tech power using your hit points instead of your tech points. When you do so, your maximum hit points are reduced by the same amount until you complete a long rest."
                                }
                            ],
                            "onFalse": [
                                {
                                    "type": "text",
                                    "text": "Use `-amt` to specify the amount of points to offset"
                                }
                            ]
                        }
                    ]
                }
            }
        ]
    },
    {
        "Class": "Engineer",
        "subclass": "Construction",
        "counters": [
            {
                "name": "Modification Slots",
                "level": 3,
                "value": [
                    0,
                    0,
                    4,
                    4,
                    5,
                    5,
                    5,
                    5,
                    6,
                    6,
                    7,
                    7,
                    8,
                    8,
                    8,
                    8,
                    9,
                    9,
                    9,
                    9
                ],
                "display": "bubble",
                "reset": "long",
                "classLevel": "EngineerLevel",
                "desc": "You can deploy your choice from these structures a combined total of four times, and you gain more uses at higher levels, as shown in the Modification Slots column of the engineer table. Each time you use this feature in excess of your proficiency bonus, your tech point maximum is reduced by 1 until you complete a long rest. You regain all expended uses when you complete a long rest."
            }
        ]
    },
    {
        "Class": "Engineer",
        "subclass": "Cybertech",
        "counters": [
            {
                "name": "Quickslice",
                "level": 6,
                "value": 1,
                "reset": "short",
                "display": "bubble",
                "classLevel": "EngineerLevel"
            },
            {
                "name": "Maximum Output",
                "level": 18,
                "classLevel": "EngineerLevel",
                "value": 1,
                "display": "bubble",
                "desc": "When you cast a tech power, you can choose to deal maximum damage or provide maximum healing with that power.\n\nOnce you’ve used this feature, you must complete a short or long rest before you can use it again."
            }
        ],
        "actions": [
            {
                "level": 3,
                "action": {
                    "name": "Insightful Casting - Create Tech Points",
                    "_v": 2,
                    "verb": "uses",
                    "activation_type": 2,
                    "automation": [
                        {
                            "type": "counter",
                            "counter": "Potent Aptitude",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "variable",
                            "value": "lastCounterUsedAmount*2",
                            "name": "restore"
                        },
                        {
                            "type": "counter",
                            "counter": "Tech Points",
                            "amount": "-restore",
                            "fixedValue": true
                        },
                        {
                            "type": "text",
                            "text": "You can expend uses of your Potent Aptitude to gain additional tech points, or expend tech points to gain additional Potent Aptitude uses.\n\n*Creating Tech Points.* You can transform a single use of Potent Aptitude into two tech points as a bonus action on your turn. These additional tech points can exceed your maximum. Any tech points you create with this feature vanish when you finish a short rest.\n\n*Creating Potent Aptitude.* As a bonus action on your turn, you can expend two tech points to gain a single use of your Potent Aptitude."
                        }
                    ]
                }
            },
            {
                "level": 3,
                "action": {
                    "name": "Insightful Casting - Create Potent Aptitude",
                    "_v": 2,
                    "verb": "uses",
                    "activation_type": 2,
                    "automation": [
                        {
                            "type": "counter",
                            "counter": "Tech Points",
                            "amount": 2,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "variable",
                            "value": "floor(lastCounterUsedAmount/2)",
                            "name": "restore"
                        },
                        {
                            "type": "counter",
                            "counter": "Potent Aptitude",
                            "amount": "-restore",
                            "fixedValue": true
                        },
                        {
                            "type": "text",
                            "text": "You can expend uses of your Potent Aptitude to gain additional tech points, or expend tech points to gain additional Potent Aptitude uses.\n\n*Creating Tech Points.* You can transform a single use of Potent Aptitude into two tech points as a bonus action on your turn. These additional tech points can exceed your maximum. Any tech points you create with this feature vanish when you finish a short rest.\n\n*Creating Potent Aptitude.* As a bonus action on your turn, you can expend two tech points to gain a single use of your Potent Aptitude."
                        }
                    ]
                }
            },
            {
                "level": 6,
                "action": {
                    "name": "Quickslice",
                    "_v": 2,
                    "activation_type": 4,
                    "verb": "uses",
                    "automation": [
                        {
                            "type": "target",
                            "target": "self",
                            "effects": [
                                {
                                    "type": "check",
                                    "ability": "intelligence",
                                    "dc": "10"
                                }
                            ]
                        },
                        {
                            "type": "counter",
                            "counter": "Quickslice",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "text",
                            "text": "When a creature you can see casts a tech power, you may use your reaction to attempt to download that tech power to your wristpad for later use if it is of a level for which you can cast.\n\nMake an ability check using your techcasting ability with proficiency. The DC equals 10 + two times the power’s level. On a success you store the power for later use. On a failure, the power is not stored. You can cast powers stored in your wristpad as if you had learned them and they do not count against your tech powers known.\n\nOnce you have used this feature on a creature, you cannot do so again on the same creature until you complete a short or long rest.\n\nYou can store an amount of levels worth of tech powers equal to your engineer level at a time. Additionally, you can choose replace or remove one or more tech powers learned by this feature each time you use it."
                        }
                    ]
                }
            }
        ]
    },
    {
        "Class": "Engineer",
        "subclass": "Munitions",
        "counters": [
            {
                "name": "Collateral Damage",
                "level": 18,
                "value": "max(intelligenceMod,1)",
                "display": "bubble",
                "reset": "long",
                "classLevel": "EngineerLevel",
                "desc": "When an ammunition you control affects an area, you can choose to maximize its explosive potential. A radius or cone area doubles in size, or a line area doubles in either length or width (your choice).\n\nYou can use this feature a number of times equal to your Intelligence modifier (a minimum of once). You regain all expended uses when you complete a long rest."
            }
        ]
    },
    {
        "Class": "Engineer",
        "subclass": "Strategic",
        "counters": [
            {
                "name": "Aura of Command",
                "level": 3,
                "value": [
                    0,
                    0,
                    4,
                    4,
                    5,
                    5,
                    5,
                    5,
                    6,
                    6,
                    7,
                    7,
                    8,
                    8,
                    8,
                    8,
                    9,
                    9,
                    9,
                    9
                ],
                "display": "bubble",
                "reset": "long",
                "classLevel": "EngineerLevel"
            },
            {
                "name": "Superiority Dice",
                "level": 3,
                "value": "proficiencyBonus",
                "display": "bubble",
                "reset": "short",
                "classLevel": "EngineerLevel"
            },
            {
                "name": "High Command",
                "level": 18,
                "value": 1,
                "display": "bubble",
                "reset": "long",
                "classLevel": "EngineerLevel",
                "desc": "Any battle is yours to control.\n\nWhen you roll a critical hit with an attack, you can expend a superiority die to immediately take an additional turn. Once you use this ability you cannot use it again until you finish a long rest.\n\nIn addition, you can expend four tech points to regain an expended superiority die, or expend a superiority die to regain four expended tech points, both up to their maximums."
            }
        ]
    },
    {
        "Class": "Engineer",
        "subclass": "Prismatic",
        "counters": [
            {
                "name": "Material Refraction",
                "level": 14,
                "value": 2,
                "display": "bubble",
                "reset": "long",
                "classLevel": "EngineerLevel",
                "desc": "Weapon attacks using your modified beam cannon's penetrating property now target all creatures in a line up to its normal range, originating from you.\n\nAdditionally, when you attack your initial target with your modified beam cannon or a tech power that requires an attack roll or Dexterity saving throw to resist damage, you can choose to expend a number of tech points up to your proficiency bonus to cause the effect to split on impact into an equal number of projectiles. The original attack or effect is resolved, and you can then target a number of creatures equal to the number of projectiles within 30 feet of the original target, making subsequent attack rolls with equal bonus to hit or imposing the saving throw DC equal to that of the original target. On a hit or failed saving throw, the secondary target takes half the damage of the original effect. You cannot target the original target creature again with the secondary attack or saving throw.\n\nYou can use this ability twice per long rest."
            }
        ]
    },
    {
        "Class": "Fighter",
        "hitDie": "d10",
        "subclassLevel": 3,
        "counters": [
            {
                "name": "Second Wind",
                "level": 1,
                "classLevel": "FighterLevel",
                "reset": "short",
                "display": "bubble",
                "value": 1,
                "desc": "You have a limited well of stamina that you can draw on to protect yourself from harm. On your turn, you can use a bonus action to regain hit points equal to 1d10 + your fighter level."
            },
            {
                "name": "Action Surge",
                "level": 2,
                "value": [
                    0,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    2,
                    2,
                    2,
                    2
                ],
                "desc": "You can push yourself beyond your normal limits for a moment. On your turn, you can take one additional action on top of your regular action and a possible bonus action.",
                "classLevel": "FighterLevel",
                "reset": "short",
                "display": "bubble"
            },
            {
                "name": "Superiority Dice",
                "level": 2,
                "classLevel": "FighterLevel",
                "reset": "short",
                "display": "bubble",
                "value": [
                    0,
                    2,
                    2,
                    2,
                    3,
                    3,
                    3,
                    3,
                    4,
                    4,
                    4,
                    4,
                    5,
                    5,
                    5,
                    5,
                    6,
                    6,
                    6,
                    6
                ],
                "desc": "You have two superiority dice, which are d4s, and you earn more at higher levels, as shown in the Superiority Dice column of the fighter table. This die changes as you gain fighter levels, as shown in the Combat Superiority column of the fighter table. A superiority die is expended when you use it. You regain all of your expended superiority dice when you finish a short or long rest."
            },
            {
                "name": "Indomitable",
                "level": 9,
                "value": [
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    1,
                    1,
                    1,
                    1,
                    2,
                    2,
                    2,
                    2,
                    3,
                    3,
                    3,
                    3
                ],
                "reset": "long",
                "classLevel": "FighterLevel",
                "display": "bubble",
                "desc": "You can reroll a saving throw that you fail. If you do so, you must use the new roll, and you can’t use this feature again until you finish a long rest."
            }
        ],
        "actions": [
            {
                "level": 1,
                "action": {
                    "name": "(SW) Second Wind",
                    "_v": 2,
                    "activation_type": 3,
                    "verb": "uses",
                    "automation": [
                        {
                            "type": "counter",
                            "counter": "Second Wind",
                            "amount": "1",
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "variable",
                            "name": "FighterLevel",
                            "value": "caster.levels.get('Fighter')",
                            "onError": "0"
                        },
                        {
                            "type": "variable",
                            "value": "FighterDefensiveAugment",
                            "onError": 0,
                            "name": "augment"
                        },
                        {
                            "type": "target",
                            "target": "self",
                            "effects": [
                                {
                                    "type": "damage",
                                    "damage": "-(1d10 + {FighterLevel}) [heal]"
                                },
                                {
                                    "type": "condition",
                                    "condition": "augment and augment > 0",
                                    "onFalse": [],
                                    "onTrue": [
                                        {
                                            "type": "temphp",
                                            "amount": "{-lastDamage}"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "text",
                            "text": "You have a limited well of stamina that you can draw on to protect yourself from harm. On your turn, you can use a bonus action to regain hit points equal to 1d10 + your fighter level. - DEV"
                        }
                    ]
                }
            }
        ]
    },
    {
        "Class": "Fighter",
        "subclass": "Assault",
        "counters": []
    },
    {
        "Class": "Fighter",
        "subclass": "Fireteam",
        "counters": [
            {
                "name": "Superiority Dice",
                "level": 3,
                "classLevel": "FighterLevel",
                "reset": "short",
                "display": "bubble",
                "value": "proficiencyBonus",
                "modifier": "proficiencyBonus",
                "desc": "You have two superiority dice, which are d4s, and you earn more at higher levels, as shown in the Superiority Dice column of the fighter table. This die changes as you gain fighter levels, as shown in the Combat Superiority column of the fighter table. A superiority die is expended when you use it. You regain all of your expended superiority dice when you finish a short or long rest."
            }
        ]
    },
    {
        "Class": "Fighter",
        "subclass": "Heavy Weapons",
        "counters": []
    },
    {
        "Class": "Fighter",
        "subclass": "Shield",
        "counters": [
            {
                "name": "Tech Points",
                "level": 3,
                "value": [
                    0,
                    0,
                    2,
                    2,
                    3,
                    3,
                    4,
                    4,
                    5,
                    5,
                    6,
                    6,
                    7,
                    7,
                    8,
                    8,
                    9,
                    9,
                    10,
                    10
                ],
                "display": "default",
                "modifier": "intelligenceMod",
                "classLevel": "FighterLevel",
                "reset": "short",
                "desc": "You use these tech points to cast tech powers. You regain all expended tech points when you finish a short or long rest."
            }
        ]
    },
    {
        "Class": "Fighter",
        "subclass": "Tactical",
        "counters": [
            {
                "name": "Superiority Dice",
                "level": 2,
                "classLevel": "FighterLevel",
                "reset": "short",
                "display": "bubble",
                "value": [
                    2,
                    2,
                    4,
                    4,
                    5,
                    5,
                    6,
                    6,
                    7,
                    7,
                    8,
                    8,
                    9,
                    9,
                    10,
                    10,
                    11,
                    11,
                    12,
                    12
                ],
                "desc": "You have four superiority dice, instead of two, and you earn more at higher levels, as shown in the Superiority Dice column of the Tactical Specialist Combat Superiority table. This die changes as you gain fighter levels, as shown in the Combat Superiority column of the fighter table. A superiority die is expended when you use it. You regain all of your expended superiority dice when you finish a short or long rest."
            }
        ]
    },
    {
        "Class": "Fighter",
        "subclass": "Adept Dark",
        "counters": [
            {
                "name": "Force Points",
                "level": 3,
                "value": "FighterLevel",
                "modifier": "charismaMod",
                "reset": "long",
                "display": "default",
                "classLevel": "FighterLevel",
                "desc": "You use these force points to cast force powers. You regain all expended force points when you finish a long rest."
            },
            {
                "name": "Growing Momentum",
                "level": 3,
                "value": "charismaMod",
                "reset": "long",
                "display": "bubble",
                "classLevel": "FighterLevel",
                "desc": "You can cast the burst of speed force power targeting yourself at 1st-level without expending force points. At 10th level, when you do so, your speed increases by an additional 10 feet. At 18th level, when you do so, your speed increases by an additional 10 feet./n/nYou can use this feature a number of times equal to your Wisdom or Charisma modifier (your choice, a minimum of once). You regain any expended uses when you finish a long rest."
            }
        ]
    },
    {
        "Class": "Fighter",
        "subclass": "Adept Light",
        "counters": [
            {
                "name": "Force Points",
                "level": 3,
                "value": "FighterLevel",
                "modifier": "wisdomMod",
                "reset": "long",
                "display": "default",
                "classLevel": "FighterLevel",
                "desc": "You use these force points to cast force powers. You regain all expended force points when you finish a long rest."
            },
            {
                "name": "Growing Momentum",
                "level": 3,
                "value": "wisdomMod",
                "reset": "long",
                "display": "bubble",
                "classLevel": "FighterLevel",
                "desc": "You can cast the burst of speed force power targeting yourself at 1st-level without expending force points. At 10th level, when you do so, your speed increases by an additional 10 feet. At 18th level, when you do so, your speed increases by an additional 10 feet./n/nYou can use this feature a number of times equal to your Wisdom or Charisma modifier (your choice, a minimum of once). You regain any expended uses when you finish a long rest."
            }
        ]
    },
    {
        "Class": "Fighter",
        "subclass": "Blademaster",
        "counters": [
            {
                "name": "Adaptive Fighting",
                "level": 3,
                "value": "proficiencyBonus",
                "reset": "short",
                "display": "bubble",
                "classLevel": "FighterLevel",
                "desc": "You’ve learned to make adaptations to your fighting style on the fly. You have three such effects: Change Up, Draw, and Stow. When you use your Adaptive Fighting, you choose which effect to create.\n\nYou can use this feature twice. You gain an additional use at 5th, 9th, 13th, and 17th level. You regain all expended uses when you complete a short or long rest."
            },
            {
                "name": "Bladestorm",
                "level": 18,
                "value": 1,
                "reset": "short",
                "display": "bubble",
                "classLevel": "FighterLevel",
                "desc": "You can use your action to make a single melee weapon attack against each creature within your reach. Make a separate attack roll against each target. The first attack gains a +1 bonus to its attack roll, and each attack after the first gains an additional +1 bonus to its attack roll, cumulatively, to a maximum bonus of +6. If you are wielding two light- or vibro-weapons, or a weapon with the double property, you also add this bonus to your damage rolls, and you can use your bonus action to engage in Double- or Two-Weapon Fighting./n/nOnce you’ve used this feature, you must complete a short or long rest before you can use it again."
            }
        ]
    },
    {
        "Class": "Fighter",
        "subclass": "Demolitions",
        "counters": []
    },
    {
        "Class": "Fighter",
        "subclass": "Enhancement",
        "counters": [
            {
                "name": "Amplified Shots",
                "level": 3,
                "value": 2,
                "reset": "short",
                "display": "bubble",
                "classLevel": "FighterLevel",
                "desc": "You have two amplified shots, which you use to activate your ammunition enhancements. An amplified shot is expended when you use it. When you fire an amplified shot, your weapon is treated as enhanced for overcoming resistance and immunity to unenhanced attacks and damage. You decide to use the option when the shot hits a creature, unless the option doesn’t involve an attack roll. You regain all of your amplified shots when you finish a short or long rest."
            }
        ]
    },
    {
        "Class": "Fighter",
        "subclass": "Exhibition",
        "counters": [
            {
                "name": "Spotlight",
                "level": 3,
                "value": 1,
                "reset": "short",
                "display": "bubble",
                "classLevel": "FighterLevel"
            },
            {
                "name": "Showoff",
                "level": 3,
                "value": 1,
                "reset": "short",
                "display": "bubble",
                "classLevel": "FighterLevel"
            },
            {
                "name": "Beauty of Violence",
                "level": 18,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "FighterLevel"
            }
        ],
        "actions": [
            {
                "level": 3,
                "action": {
                    "name": "In the Spotlight",
                    "_v": 2,
                    "activation_type": 3,
                    "automation": [
                        {
                            "type": "target",
                            "target": "self",
                            "effects": [
                                {
                                    "type": "ieffect2",
                                    "name": "Shining a Spotlight",
                                    "duration": 10,
                                    "save_as": "peff",
                                    "desc": "You can add half your Charisma modifier (minimum of one) to any weapon damage roll you make against the marked target that doesn’t already include that modifier.\n - Your critical hit range against the marked target increases by 1.",
                                    "attacks": [
                                        {
                                            "attack": {
                                                "name": "In the Spotlight - Regain Health",
                                                "_v": 2,
                                                "activation_type": 8,
                                                "automation": [
                                                    {
                                                        "type": "variable",
                                                        "value": "{caster.levels.get('Fighter')}",
                                                        "name": "level"
                                                    },
                                                    {
                                                        "type": "target",
                                                        "target": "self",
                                                        "effects": [
                                                            {
                                                                "type": "damage",
                                                                "damage": "-({level}+{max(charismaMod,1)}) [healing]"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                },
                                {
                                    "type": "counter",
                                    "counter": "Spotlight",
                                    "amount": 1,
                                    "errorBehaviour": "raise"
                                }
                            ]
                        },
                        {
                            "type": "target",
                            "target": "each",
                            "effects": [
                                {
                                    "type": "ieffect2",
                                    "name": "In the Spotlight",
                                    "parent": "peff"
                                }
                            ]
                        }
                    ]
                }
            },
            {
                "level": 3,
                "action": {
                    "name": "ShowOff",
                    "_v": 2,
                    "activation_type": 8,
                    "automation": [
                        {
                            "type": "variable",
                            "value": "caster.levels.get('Fighter')",
                            "name": "fLevel"
                        },
                        {
                            "type": "variable",
                            "value": "4 if fLevel < 5 else 6 if fLevel < 9 else 8 if fLevel < 13 else 10 if fLevel < 17 else 12",
                            "name": "dieSize"
                        },
                        {
                            "type": "roll",
                            "dice": "1d{dieSize}",
                            "name": "Check Bonus"
                        },
                        {
                            "type": "target",
                            "target": "each",
                            "effects": [
                                {
                                    "type": "save",
                                    "stat": "wis",
                                    "dc": "8+proficiencyBonus+charismaMod",
                                    "success": [],
                                    "fail": [
                                        {
                                            "type": "ieffect2",
                                            "name": "Charmed by {caster.name}",
                                            "duration": 10,
                                            "desc": "A charmed creature can't attack the charmer or target the charmer with harmful abilities or enhanced effects.\r\n- The charmer has advantage on any ability check to interact socially with the creature."
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "counter",
                            "counter": "Showoff",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "text",
                            "text": "You’re a master at dazzling your friends and enemies alike. When you would make a Strength, Dexterity, Constitution, or Charisma check, you can roll a d4 and add it to the roll. On a success, you can immediately choose a number of creatures within 30 feet of you that can see you up to your Charisma modifier `{max(charismaMod,1)}` (no action required, minimum of one). Each creature must succeed on a Wisdom saving throw (DC = 8 + your proficiency bonus + your Charisma modifier) or be charmed by you. This effects ends on a target after 1 minute, if it takes any damage, if you attack it, or if it witnesses you attacking or damaging any of its allies. If a target succeeds on this saving throw, the target has no hint you tried to charm it.\n\nThis die increases to 1d6 at 5th level, 1d8 at 9th level, 1d10 at 13th level, and 1d12 at 17th level.\n\nOnce you’ve used this feature, you must complete a short or long rest before you can use it again."
                        }
                    ]
                }
            },
            {
                "level": 7,
                "action": {
                    "name": "Glory Kill - THP",
                    "_v": 2,
                    "activation_type": 8,
                    "automation": [
                        {
                            "type": "target",
                            "target": "each",
                            "effects": [
                                {
                                    "type": "temphp",
                                    "amount": "1d6+{max(charismaMod,1)}"
                                }
                            ]
                        },
                        {
                            "type": "text",
                            "text": "As you defeat your enemies in combat, you can weaken the morale of other foes or bolster the resolve of your allies alike. When you score a critical hit or reduce a creature to 0 hit points, you can choose one or more creatures that you can see within 30 feet of you, up to a number equal to your Charisma modifier (minimum of one creature) `{max(charismaMod,1)}`. Each of the chosen creatures are affected by one of the following effects of your choice:\n\n - The creature gains temporary hit points equal to 1d6 + your Charisma modifier (minimum of 1 temporary hit point).\n\n - The creature must succeed on a Wisdom saving throw (DC = 8 + your proficiency bonus + your Charisma modifier) or be frightened of you until the start of your next turn."
                        }
                    ]
                }
            },
            {
                "level": 7,
                "action": {
                    "name": "Glory Kill - Scare",
                    "_v": 2,
                    "activation_type": 8,
                    "automation": [
                        {
                            "type": "target",
                            "target": "each",
                            "effects": [
                                {
                                    "type": "save",
                                    "stat": "wis",
                                    "dc": "8+proficiencyBonus+charismaMod",
                                    "success": [],
                                    "fail": [
                                        {
                                            "type": "ieffect2",
                                            "name": "Frightened",
                                            "duration": 1,
                                            "tick_on_caster": true,
                                            "effects": {
                                                "attack_advantage": -1,
                                                "check_dis": [
                                                    "all"
                                                ]
                                            },
                                            "desc": "A frightened creature has disadvantage on ability checks and attack rolls while the source of its fear is within line of sight.\n - The creature can’t willingly move closer to the source of its fear.\n - Source: {name}"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "text",
                            "text": "As you defeat your enemies in combat, you can weaken the morale of other foes or bolster the resolve of your allies alike. When you score a critical hit or reduce a creature to 0 hit points, you can choose one or more creatures that you can see within 30 feet of you, up to a number equal to your Charisma modifier (minimum of one creature) `{max(charismaMod,1)}`. Each of the chosen creatures are affected by one of the following effects of your choice:\n\n - The creature gains temporary hit points equal to 1d6 + your Charisma modifier (minimum of 1 temporary hit point).\n\n - The creature must succeed on a Wisdom saving throw (DC = 8 + your proficiency bonus + your Charisma modifier) or be frightened of you until the start of your next turn."
                        }
                    ]
                }
            }
        ]
    },
    {
        "Class": "Fighter",
        "subclass": "Mounted",
        "counters": [
            {
                "name": "Unwavering Mark",
                "level": 3,
                "value": "strengthMod",
                "reset": "long",
                "display": "bubble",
                "classLevel": "FighterLevel"
            },
            {
                "name": "Warding Maneuver",
                "level": 7,
                "value": "constitutionMod",
                "reset": "long",
                "display": "bubble",
                "classLevel": "FighterLevel"
            }
        ]
    },
    {
        "Class": "Fighter",
        "subclass": "Praetorian",
        "counters": [
            {
                "name": "Fighting Spirit",
                "level": 3,
                "value": 3,
                "reset": "long",
                "display": "bubble",
                "classLevel": "FighterLevel",
                "desc": "Your intensity in battle can shield you and help you strike true. As a bonus action on your turn, you can give yourself advantage on all weapon attack rolls until the end of the current turn. When you do so, you also gain 5 temporary hit points. The number of hit points increases when you reach certain levels in this class, increasing to 10 at 10th level and 15 at 15th level.\n\nYou can use this feature three times. You regain all expended uses when you finish a long rest."
            },
            {
                "name": "Strength Before Weakness",
                "level": 18,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "FighterLevel",
                "desc": "Your fighting spirit can delay the grasp of death. If you take damage that reduces you to 0 hit points, you can use your reaction to delay falling unconscious, and you can immediately take an extra turn. While you have 0 hit points during that extra turn, taking damage causes death saving throw failures as normal, and three death saving throw failures can still kill you. When the extra turn ends, you fall unconscious if you still have 0 hit points.\n\nOnce you’ve used this feature, you can’t use it again until you finish a long rest."
            }
        ]
    },
    {
        "Class": "Fighter",
        "subclass": "Totem",
        "counters": [
            {
                "name": "Totemic Might",
                "level": 3,
                "value": 2,
                "reset": "long",
                "display": "bubble",
                "classLevel": "FighterLevel"
            }
        ]
    },
    {
        "Class": "Fighter",
        "subclass": "Journeyman",
        "counters": [
            {
                "name": "Foe Sense",
                "level": 3,
                "classLevel": "Fighterlevel",
                "reset": "long",
                "display": "bubble",
                "value": [
                    0,
                    0,
                    0,
                    2,
                    2,
                    2,
                    2,
                    2,
                    2,
                    3,
                    3,
                    3,
                    3,
                    3,
                    3,
                    3,
                    3,
                    4,
                    4,
                    4
                ]
            },
            {
                "name": "Bad Feeling",
                "level": 3,
                "classLevel": "Fighterlevel",
                "reset": "long",
                "display": "bubble",
                "value": 1,
                "desc": "You have a wary eye, bordering on paranoia. When you roll for initiative, you can move up to your speed. This movement happens before the initiative order is determined.\n\nOnce you’ve used this feature, you can’t use it again until you finish a long rest."
            }
        ]
    },
    {
        "Class": "Fighter",
        "subclass": "Covert",
        "counters": [
            {
                "name": "A Knife in the Dark",
                "level": 7,
                "classLevel": "Fighterlevel",
                "reset": "long",
                "display": "short",
                "value": [
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    2,
                    2,
                    3,
                    3,
                    3,
                    3,
                    4,
                    4,
                    4,
                    4,
                    5,
                    5,
                    5,
                    5
                ],
                "desc": "When you would roll a critical hit against a creature or would reduce a creature to 0 hit points while hidden, you can choose to turn invisible until the start of your next, or if you attack, cast a power, or otherwise take a hostile action.\n\nYou can use this feature twice per short or long rest. You gain an additional use at 9th, 13th, and 17th level."
            },
            {
                "name": "Vital Strike",
                "level": 18,
                "classLevel": "Fighterlevel",
                "reset": "long",
                "display": "short",
                "value": 2,
                "desc": "When you would roll a critical hit from a creature you are hidden from, you can choose to roll the weapons dice three times instead of twice.\n\nYou can use this feature twice per short or long rest."
            }
        ]
    },
    {
        "Class": "Guardianlight",
        "hitDie": "d10",
        "subclassLevel": 3,
        "counters": [
            {
                "name": "Force Points",
                "level": 1,
                "classLevel": "GuardianlightLevel",
                "value": [
                    2,
                    4,
                    6,
                    8,
                    10,
                    12,
                    14,
                    16,
                    18,
                    20,
                    22,
                    24,
                    26,
                    28,
                    30,
                    32,
                    34,
                    36,
                    38,
                    40
                ],
                "modifier": "wisdomMod",
                "reset": "long",
                "display": "default",
                "desc": "You have a number of force points equal to your guardian level x 2, as shown in the Force Points column of the guardian table, + your Wisdom or Charisma modifier (your choice). You use these force points to cast force powers. You regain all expended force points when you finish a long rest."
            },
            {
                "name": "Channel the Force",
                "level": 1,
                "classLevel": "GuardianlightLevel",
                "value": "proficiencyBonus",
                "reset": "short",
                "display": "bubble",
                "desc": "You know how to channel the Force to create a unique effect. You start with your choice of one from two such effects: Cause Harm or Lend Aid. At 3rd level, your Guardian Focus grants you an additional effect. When you use your Channel the Force, you choose which effect to create.\n\nSome Channel the Force effects require saving throws. When you use such an effect from this class, the DC equals your universal force save DC.\n\nYou can use this feature a number of times equal to your Wisdom or Charisma modifier (your choice, minimum of once). You regain all expended uses when you finish a short or long rest."
            }
        ],
        "actions": [
            {
                "level": 2,
                "action": {
                    "name": "Force-Empowered Strikes",
                    "_v": 2,
                    "activation_type": 2,
                    "automation": [
                        {
                            "type": "variable",
                            "value": "GuardianOffensiveAugments",
                            "onError": 0,
                            "name": "augments"
                        },
                        {
                            "type": "variable",
                            "value": "8 if augments < 1 else 10 if augments < 2 else 12",
                            "name": "dieSize"
                        },
                        {
                            "type": "counter",
                            "counter": "Force Points",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "target",
                            "target": "each",
                            "effects": [
                                {
                                    "type": "damage",
                                    "damage": "{lastCounterUsedAmount}d{dieSize} [energy]"
                                }
                            ]
                        },
                        {
                            "type": "text",
                            "text": "When you hit a creature with a melee weapon attack, you can expend force points to deal additional damage to the target, which is the same type as the weapon’s damage. The additional damage is 1d8 for each point spent in this way. You can’t deal more additional damage than the amount shown in the Focused Strikes column of the guardian table."
                        }
                    ]
                }
            },
            {
                "level": 11,
                "action": {
                    "name": "Improved Force-Empowered Strikes",
                    "_v": 2,
                    "activation_type": 2,
                    "automation": [
                        {
                            "type": "variable",
                            "value": "GuardianOffensiveAugments",
                            "onError": 0,
                            "name": "augments"
                        },
                        {
                            "type": "variable",
                            "value": "8 if augments < 1 else 10 if augments < 2 else 12",
                            "name": "dieSize"
                        },
                        {
                            "type": "target",
                            "target": "each",
                            "effects": [
                                {
                                    "type": "damage",
                                    "damage": "1d{dieSize} [energy]"
                                }
                            ]
                        },
                        {
                            "type": "text",
                            "text": "You are so in tune with the Force that all your melee weapon strikes carry the power of the Force with them. Whenever you hit a creature with a melee weapon attack, the creature takes an extra 1d8 damage. The damage is the same type as the weapon’s damage."
                        }
                    ]
                }
            }
        ]
    },
    {
        "Class": "Guardianlight",
        "subclass": "Makashi",
        "counters": [
            {
                "name": "Ysalamiri",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Master of Contention",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            }
        ],
        "actions": [
            {
                "level": 3,
                "action": {
                    "name": "Makashi Riposte - Channel the Force",
                    "_v": 2,
                    "activation_type": 4,
                    "automation": [
                        {
                            "type": "variable",
                            "name": "level",
                            "value": "{max(caster.levels.get('Guardianlight',0),caster.levels.get('Guardiandark',0))}"
                        },
                        {
                            "type": "counter",
                            "counter": "iwillneverhaveacounternamedthis",
                            "amount": 0,
                            "errorBehaviour": "ignore",
                            "allowOverflow": true
                        },
                        {
                            "type": "roll",
                            "dice": "1d10+{dexterityMod}+{level}",
                            "name": "damage",
                            "displayName": "Damage Reduction"
                        },
                        {
                            "type": "condition",
                            "condition": "lastCounterRequestedAmount == 0",
                            "onTrue": [],
                            "onFalse": [
                                {
                                    "type": "target",
                                    "target": "each",
                                    "effects": [
                                        {
                                            "type": "damage",
                                            "damage": "-{damage if lastCounterRequestedAmount >= damage else lastCounterRequestedAmount} [damage reduction]"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "counter",
                            "counter": "Channel the Force",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "text",
                            "text": "When another creature damages you with a melee attack, you can expend a use of your Channel the Force and use your reaction to attempt to deflect the attack. When you do so, the damage you take from the attack is reduced by 1d10 + your Dexterity modifier + your guardian level.\n\nIf you reduce the damage to 0, you can immediately make a single melee weapon attack against that creature as a part of the reaction."
                        }
                    ]
                }
            }
        ]
    },
    {
        "Class": "Guardianlight",
        "subclass": "Niman",
        "counters": [
            {
                "name": "Rancor",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Redirect",
                "level": 15,
                "value": 1,
                "reset": "short",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Master of Moderation",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            }
        ]
    },
    {
        "Class": "Guardianlight",
        "subclass": "Shien/Djem",
        "counters": [
            {
                "name": "Krayt Dragon",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Master of Perserverance",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            }
        ]
    },
    {
        "Class": "Guardianlight",
        "subclass": "Soresu",
        "counters": [
            {
                "name": "Mynock",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Circle of Shelter",
                "level": 7,
                "value": "constitutionMod",
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Master of Resilience",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "Guardianlight"
            }
        ]
    },
    {
        "Class": "Guardianlight",
        "subclass": "Aqinos",
        "counters": [
            {
                "name": "Droid Companion",
                "level": 3,
                "value": "proficiencyBonus",
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Master of Adaptation",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            }
        ]
    },
    {
        "Class": "Guardianlight",
        "subclass": "Ataru",
        "counters": [
            {
                "name": "Hawk-Bat",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Master of Aggression",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            }
        ]
    },
    {
        "Class": "Guardianlight",
        "subclass": "Jar'Kai",
        "counters": [
            {
                "name": "Acklay",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Rising Whirlwind",
                "level": 15,
                "value": 1,
                "reset": "short",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Master of Domination",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            }
        ]
    },
    {
        "Class": "Guardianlight",
        "subclass": "Juyo/Vaapad",
        "counters": [
            {
                "name": "Vornskr",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Vengeance",
                "level": 15,
                "value": "wisdomMod",
                "reset": "short",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Master of Ferocity",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            }
        ]
    },
    {
        "Class": "Guardianlight",
        "subclass": "Shii-Cho",
        "counters": [
            {
                "name": "Sarlaac",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Master of Determination",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            }
        ]
    },
    {
        "Class": "Guardianlight",
        "subclass": "Sokan",
        "counters": [
            {
                "name": "Varactyl",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Unwavering Self",
                "level": 3,
                "value": [
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    2,
                    2,
                    2,
                    2,
                    2,
                    2
                ],
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Master of Persistence",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            }
        ]
    },
    {
        "Class": "Guardianlight",
        "subclass": "Trakata",
        "counters": [
            {
                "name": "Monkey-Lizard",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Master of Deception",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            }
        ]
    },
    {
        "Class": "Guardianlight",
        "subclass": "Vonil/Ishu",
        "counters": [
            {
                "name": "Hydra",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Master of Unity",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            }
        ]
    },
    {
        "Class": "Guardianlight",
        "subclass": "Ysannanite",
        "counters": [
            {
                "name": "Yerdua",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Phasestorm",
                "level": 15,
                "value": 1,
                "reset": "short",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Master of Unorthodox",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            }
        ]
    },
    {
        "Class": "Guardianlight",
        "subclass": "Drallig",
        "counters": [
            {
                "name": "Way of the Wyyyschook",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel",
                "desc": "As a bonus action, you can enter a focused stance for one minute. While in this stance, when you cast a power that calls for a melee weapon attack, you can instead make a ranged attack with a thrown weapon. If the attack hits, you add your Wisdom or Charisma modifier (your choice, minimum of +1) to the damage roll. Additionally, when you throw a weapon in this way, it automatically returns to your hand after the attack is complete, whether you hit or miss.\n\nThis effect ends early if you are incapacitated or die. Once you’ve used this feature, you can’t use it again until you finish a long rest."
            },
            {
                "name": "Returning Strike",
                "level": 15,
                "value": [
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    2,
                    3,
                    4,
                    3,
                    3,
                    3
                ],
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel",
                "desc": "When you miss with a ranged attack with a thrown weapon, you can use your bonus action to repeat the attack against a creature within 15 feet and behind your initial target. Any modifications to the original attack roll, such as advantage, disadvantage, or without your proficiency bonus, also affect this attack roll.\n\nYou can use this feature a twice per long rest. You gain an additional use of this feature at 18th level."
            },
            {
                "name": "Master of the Arc",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel",
                "desc": "Your throwing game is on point. Your Strength or Dexterity scores increase by 2. Your Strength or Dexterity and Wisdom or Charisma scores (your choice) increase by 2. Your maximum for these scores increases by 2. Additionally, you can use your action to gain the following benefits for 1 minute:\n\nYou have resistance to kinetic, energy, and ion damage from weapons.\nOnce per turn, when you hit a creature with a ranged weapon attack with a thrown weapon, you can make a second ranged weapon attack with that weapon against that creature.\nCreatures provoke an opportunity attack from you when they enter the range of your thrown weapons, and you can make ranged weapon attacks with your thrown weapons when making attacks of opportunity.\nThis effect ends early if you are incapacitated or die. Once you use this feature, you can’t use it again until you finish a long rest."
            }
        ]
    },
    {
        "Class": "Guardianlight",
        "subclass": "Bakuuni",
        "counters": [
            {
                "name": "The Way of the Gundark",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Tempered By The Force",
                "level": 15,
                "value": "max(wisdomMod, charismaMod, 1)",
                "reset": "long",
                "classLevel": "GuardianlightLevel",
                "display": "bubble"
            },
            {
                "name": "Master of Pulverizing",
                "level": 20,
                "value": 1,
                "reset": "long",
                "classLevel": "GuardianlightLevel",
                "display": "bubble"
            }
        ],
        "actions": [
            {
                "level": 3,
                "action": {
                    "name": "The Way of the Gundark - Stance",
                    "_v": 2,
                    "activation_type": 3,
                    "verb": "enters",
                    "automation": [
                        {
                            "type": "target",
                            "target": "self",
                            "effects": [
                                {
                                    "type": "ieffect2",
                                    "name": "The Way of the Gundark - Stance",
                                    "duration": 10,
                                    "effects": {
                                        "damage_bonus": "{max(wisdomMod//2, charismaMod//2, 1)}"
                                    },
                                    "attacks": [
                                        {
                                            "attack": {
                                                "name": "The Way of the Gundark - Save",
                                                "_v": 2,
                                                "activation_type": 8,
                                                "verb": "uses",
                                                "automation": [
                                                    {
                                                        "type": "target",
                                                        "target": "each",
                                                        "effects": [
                                                            {
                                                                "type": "save",
                                                                "stat": "con",
                                                                "success": [],
                                                                "fail": [
                                                                    {
                                                                        "type": "ieffect2",
                                                                        "name": "Gundarked",
                                                                        "duration": 1,
                                                                        "end": true,
                                                                        "tick_on_caster": true,
                                                                        "desc": "Can't take reactions"
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "text",
                                                        "text": "Once per turn when you hit with a melee weapon attack, the target must make a Constitution saving throw against your Universal Force Save DC. On a failed save, the target can't take reactions until the end of your next turn."
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "counter",
                            "counter": "The Way of the Gundark",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "text",
                            "text": "As a bonus action, you can enter an aggressive stance for one minute. While in this stance, your melee weapon attacks deal additional damage equal to half your Wisdom or Charisma modifier (Your choice, rounded down, minimum of +1). Additionally, once per turn when you hit with a melee weapon attack, the target must make a Constitution saving throw against your Universal Force Save DC. On a failed save, the target can't take reactions until the end of your next turn.\n\nThis effect ends early if you are incapacitated or die. Once you've used this feature, you can't use it again until you finish a long rest."
                        }
                    ]
                }
            },
            {
                "level": 3,
                "action": {
                    "name": "Pulverizing Blow",
                    "_v": 2,
                    "activation_type": 8,
                    "automation": [
                        {
                            "type": "target",
                            "target": "each",
                            "effects": [
                                {
                                    "type": "save",
                                    "stat": "str",
                                    "success": [],
                                    "fail": [
                                        {
                                            "type": "ieffect2",
                                            "name": "Prone",
                                            "duration": "-1",
                                            "effects": {
                                                "attack_advantage": "-1"
                                            },
                                            "buttons": [
                                                {
                                                    "automation": [
                                                        {
                                                            "type": "remove_ieffect"
                                                        }
                                                    ],
                                                    "label": "Stand Up",
                                                    "verb": "stands up",
                                                    "style": "1"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "counter",
                            "counter": "Channel the Force",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "text",
                            "text": "Once per turn when you hit with a melee weapon attack, you can expend a use of your Channel the Force to attempt to unbalance your opponent. The target must make a Strength saving throw. On a failed save, it is pushed up to 10 feet away from you and knocked prone."
                        }
                    ]
                }
            }
        ]
    },
    {
        "Class": "Guardianlight",
        "subclass": "Mastery",
        "counters": [
            {
                "name": "Superiority Dice",
                "level": 3,
                "value": "proficiencyBonus",
                "reset": "short",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            },
            {
                "name": "Way of the Katarn",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel",
                "desc": "As a bonus action, you can drawn on your knowledge of the various lightsaber forms to assist you in combat. As part of the bonus action to activate this feature you can use a lightsaber form.\n\nFor the next minute while this feature is active, when you use your bonus action to activate a lightsaber form, you can activate another lightsaber form, regardless of whether you know the second form (no action required). You can only use a lightsaber form this way once, unless you already know the form. You cannot activate the same form twice on the same turn using this feature.\n\nThis effect ends early if you are incapacitated or die. Once you’ve used this feature, you can’t use it again until you finish a long rest."
            },
            {
                "name": "Master of the Forms",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardianlightLevel"
            }
        ]
    },
    {
        "Class": "Guardiandark",
        "hitDie": "d10",
        "subclassLevel": 3,
        "counters": [
            {
                "name": "Force Points",
                "level": 1,
                "classLevel": "GuardiandarkLevel",
                "value": [
                    2,
                    4,
                    6,
                    8,
                    10,
                    12,
                    14,
                    16,
                    18,
                    20,
                    22,
                    24,
                    26,
                    28,
                    30,
                    32,
                    34,
                    36,
                    38,
                    40
                ],
                "modifier": "charismaMod",
                "reset": "long",
                "display": "default",
                "desc": "You have a number of force points equal to your guardian level x 2, as shown in the Force Points column of the guardian table, + your Wisdom or Charisma modifier (your choice). You use these force points to cast force powers. You regain all expended force points when you finish a long rest."
            },
            {
                "name": "Channel the Force",
                "level": 1,
                "classLevel": "GuardiandarkLevel",
                "value": "proficiencyBonus",
                "reset": "short",
                "display": "bubble",
                "desc": "You know how to channel the Force to create a unique effect. You start with your choice of one from two such effects: Cause Harm or Lend Aid. At 3rd level, your Guardian Focus grants you an additional effect. When you use your Channel the Force, you choose which effect to create.\n\nSome Channel the Force effects require saving throws. When you use such an effect from this class, the DC equals your universal force save DC.\n\nYou can use this feature a number of times equal to your Wisdom or Charisma modifier (your choice, minimum of once). You regain all expended uses when you finish a short or long rest."
            }
        ],
        "actions": [
            {
                "level": 2,
                "action": {
                    "name": "Force-Empowered Strikes",
                    "_v": 2,
                    "activation_type": 2,
                    "automation": [
                        {
                            "type": "variable",
                            "value": "GuardianOffensiveAugments",
                            "onError": 0,
                            "name": "augments"
                        },
                        {
                            "type": "variable",
                            "value": "8 if augments < 1 else 10 if augments < 2 else 12",
                            "name": "dieSize"
                        },
                        {
                            "type": "counter",
                            "counter": "Force Points",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "target",
                            "target": "each",
                            "effects": [
                                {
                                    "type": "damage",
                                    "damage": "{lastCounterUsedAmount}d{dieSize} [energy]"
                                }
                            ]
                        },
                        {
                            "type": "text",
                            "text": "When you hit a creature with a melee weapon attack, you can expend force points to deal additional damage to the target, which is the same type as the weapon’s damage. The additional damage is 1d8 for each point spent in this way. You can’t deal more additional damage than the amount shown in the Focused Strikes column of the guardian table."
                        }
                    ]
                }
            },
            {
                "level": 11,
                "action": {
                    "name": "Improved Force-Empowered Strikes",
                    "_v": 2,
                    "activation_type": 2,
                    "automation": [
                        {
                            "type": "variable",
                            "value": "GuardianOffensiveAugments",
                            "onError": 0,
                            "name": "augments"
                        },
                        {
                            "type": "variable",
                            "value": "8 if augments < 1 else 10 if augments < 2 else 12",
                            "name": "dieSize"
                        },
                        {
                            "type": "target",
                            "target": "each",
                            "effects": [
                                {
                                    "type": "damage",
                                    "damage": "1d{dieSize} [energy]"
                                }
                            ]
                        },
                        {
                            "type": "text",
                            "text": "You are so in tune with the Force that all your melee weapon strikes carry the power of the Force with them. Whenever you hit a creature with a melee weapon attack, the creature takes an extra 1d8 damage. The damage is the same type as the weapon’s damage."
                        }
                    ]
                }
            }
        ]
    },
    {
        "Class": "Guardiandark",
        "subclass": "Makashi",
        "counters": [
            {
                "name": "Ysalamiri",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Master of Contention",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            }
        ],
        "actions": [
            {
                "level": 3,
                "action": {
                    "name": "Makashi Riposte - Channel the Force",
                    "_v": 2,
                    "activation_type": 4,
                    "automation": [
                        {
                            "type": "variable",
                            "name": "level",
                            "value": "{max(caster.levels.get('Guardianlight',0),caster.levels.get('Guardiandark',0))}"
                        },
                        {
                            "type": "counter",
                            "counter": "iwillneverhaveacounternamedthis",
                            "amount": 0,
                            "errorBehaviour": "ignore",
                            "allowOverflow": true
                        },
                        {
                            "type": "roll",
                            "dice": "1d10+{dexterityMod}+{level}",
                            "name": "damage",
                            "displayName": "Damage Reduction"
                        },
                        {
                            "type": "condition",
                            "condition": "lastCounterRequestedAmount == 0",
                            "onTrue": [],
                            "onFalse": [
                                {
                                    "type": "target",
                                    "target": "each",
                                    "effects": [
                                        {
                                            "type": "damage",
                                            "damage": "-{damage if lastCounterRequestedAmount >= damage else lastCounterRequestedAmount} [damage reduction]"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "counter",
                            "counter": "Channel the Force",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "text",
                            "text": "When another creature damages you with a melee attack, you can expend a use of your Channel the Force and use your reaction to attempt to deflect the attack. When you do so, the damage you take from the attack is reduced by 1d10 + your Dexterity modifier + your guardian level.\n\nIf you reduce the damage to 0, you can immediately make a single melee weapon attack against that creature as a part of the reaction."
                        }
                    ]
                }
            }
        ]
    },
    {
        "Class": "Guardiandark",
        "subclass": "Niman",
        "counters": [
            {
                "name": "Rancor",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Redirect",
                "level": 15,
                "value": 1,
                "reset": "short",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Master of Moderation",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            }
        ]
    },
    {
        "Class": "Guardiandark",
        "subclass": "Shien/Djem",
        "counters": [
            {
                "name": "Krayt Dragon",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Master of Perserverance",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            }
        ]
    },
    {
        "Class": "Guardiandark",
        "subclass": "Soresu",
        "counters": [
            {
                "name": "Mynock",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Circle of Shelter",
                "level": 7,
                "value": "constitutionMod",
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Master of Resilience",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            }
        ]
    },
    {
        "Class": "Guardiandark",
        "subclass": "Aqinos",
        "counters": [
            {
                "name": "Droid Companion",
                "level": 3,
                "value": "proficiencyBonus",
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Master of Adaptation",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            }
        ]
    },
    {
        "Class": "Guardiandark",
        "subclass": "Ataru",
        "counters": [
            {
                "name": "Hawk-Bat",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Master of Aggression",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            }
        ]
    },
    {
        "Class": "Guardiandark",
        "subclass": "Jar'Kai",
        "counters": [
            {
                "name": "Acklay",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Rising Whirlwind",
                "level": 15,
                "value": 1,
                "reset": "short",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Master of Domination",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            }
        ]
    },
    {
        "Class": "Guardiandark",
        "subclass": "Juyo/Vaapad",
        "counters": [
            {
                "name": "Vornskr",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Vengeance",
                "level": 15,
                "value": "charismaMod",
                "reset": "short",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Master of Ferocity",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            }
        ]
    },
    {
        "Class": "Guardiandark",
        "subclass": "Shii-Cho",
        "counters": [
            {
                "name": "Sarlaac",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Master of Determination",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            }
        ]
    },
    {
        "Class": "Guardiandark",
        "subclass": "Sokan",
        "counters": [
            {
                "name": "Varactyl",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Unwavering Self",
                "level": 3,
                "value": [
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    1,
                    2,
                    2,
                    2,
                    2,
                    2,
                    2
                ],
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Master of Persistence",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            }
        ]
    },
    {
        "Class": "Guardiandark",
        "subclass": "Trakata",
        "counters": [
            {
                "name": "Monkey-Lizard",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Master of Deception",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            }
        ]
    },
    {
        "Class": "Guardiandark",
        "subclass": "Vonil/Ishu",
        "counters": [
            {
                "name": "Hydra",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Master of Unity",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            }
        ]
    },
    {
        "Class": "Guardiandark",
        "subclass": "Ysannanite",
        "counters": [
            {
                "name": "Yerdua",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Phasestorm",
                "level": 15,
                "value": 1,
                "reset": "short",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Master of Unorthodox",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            }
        ]
    },
    {
        "Class": "Guardiandark",
        "subclass": "Drallig",
        "counters": [
            {
                "name": "Way of the Wyyyschook",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel",
                "desc": "As a bonus action, you can enter a focused stance for one minute. While in this stance, when you cast a power that calls for a melee weapon attack, you can instead make a ranged attack with a thrown weapon. If the attack hits, you add your Wisdom or Charisma modifier (your choice, minimum of +1) to the damage roll. Additionally, when you throw a weapon in this way, it automatically returns to your hand after the attack is complete, whether you hit or miss.\n\nThis effect ends early if you are incapacitated or die. Once you’ve used this feature, you can’t use it again until you finish a long rest."
            },
            {
                "name": "Returning Strike",
                "level": 15,
                "value": [
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    2,
                    3,
                    4,
                    3,
                    3,
                    3
                ],
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel",
                "desc": "When you miss with a ranged attack with a thrown weapon, you can use your bonus action to repeat the attack against a creature within 15 feet and behind your initial target. Any modifications to the original attack roll, such as advantage, disadvantage, or without your proficiency bonus, also affect this attack roll.\n\nYou can use this feature a twice per long rest. You gain an additional use of this feature at 18th level."
            },
            {
                "name": "Master of the Arc",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel",
                "desc": "Your throwing game is on point. Your Strength or Dexterity scores increase by 2. Your Strength or Dexterity and Wisdom or Charisma scores (your choice) increase by 2. Your maximum for these scores increases by 2. Additionally, you can use your action to gain the following benefits for 1 minute:\n\nYou have resistance to kinetic, energy, and ion damage from weapons.\nOnce per turn, when you hit a creature with a ranged weapon attack with a thrown weapon, you can make a second ranged weapon attack with that weapon against that creature.\nCreatures provoke an opportunity attack from you when they enter the range of your thrown weapons, and you can make ranged weapon attacks with your thrown weapons when making attacks of opportunity.\nThis effect ends early if you are incapacitated or die. Once you use this feature, you can’t use it again until you finish a long rest."
            }
        ]
    },
    {
        "Class": "Guardiandark",
        "subclass": "Bakuuni",
        "counters": [
            {
                "name": "The Way of the Gundark",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Tempered By The Force",
                "level": 15,
                "value": "max(wisdomMod, charismaMod, 1)",
                "reset": "long",
                "classLevel": "GuardiandarkLevel",
                "display": "bubble"
            },
            {
                "name": "Master of Pulverizing",
                "level": 20,
                "value": 1,
                "reset": "long",
                "classLevel": "GuardiandarkLevel",
                "display": "bubble"
            }
        ],
        "actions": [
            {
                "level": 3,
                "action": {
                    "name": "The Way of the Gundark - Stance",
                    "_v": 2,
                    "activation_type": 3,
                    "verb": "enters",
                    "automation": [
                        {
                            "type": "target",
                            "target": "self",
                            "effects": [
                                {
                                    "type": "ieffect2",
                                    "name": "The Way of the Gundark - Stance",
                                    "duration": 10,
                                    "effects": {
                                        "damage_bonus": "{max(wisdomMod//2, charismaMod//2, 1)}"
                                    },
                                    "attacks": [
                                        {
                                            "attack": {
                                                "name": "The Way of the Gundark - Save",
                                                "_v": 2,
                                                "activation_type": 8,
                                                "verb": "uses",
                                                "automation": [
                                                    {
                                                        "type": "target",
                                                        "target": "each",
                                                        "effects": [
                                                            {
                                                                "type": "save",
                                                                "stat": "con",
                                                                "success": [],
                                                                "fail": [
                                                                    {
                                                                        "type": "ieffect2",
                                                                        "name": "Gundarked",
                                                                        "duration": 1,
                                                                        "end": true,
                                                                        "tick_on_caster": true,
                                                                        "desc": "Can't take reactions"
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "text",
                                                        "text": "Once per turn when you hit with a melee weapon attack, the target must make a Constitution saving throw against your Universal Force Save DC. On a failed save, the target can't take reactions until the end of your next turn."
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "counter",
                            "counter": "The Way of the Gundark",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "text",
                            "text": "As a bonus action, you can enter an aggressive stance for one minute. While in this stance, your melee weapon attacks deal additional damage equal to half your Wisdom or Charisma modifier (Your choice, rounded down, minimum of +1). Additionally, once per turn when you hit with a melee weapon attack, the target must make a Constitution saving throw against your Universal Force Save DC. On a failed save, the target can't take reactions until the end of your next turn.\n\nThis effect ends early if you are incapacitated or die. Once you've used this feature, you can't use it again until you finish a long rest."
                        }
                    ]
                }
            },
            {
                "level": 3,
                "action": {
                    "name": "Pulverizing Blow",
                    "_v": 2,
                    "activation_type": 8,
                    "automation": [
                        {
                            "type": "target",
                            "target": "each",
                            "effects": [
                                {
                                    "type": "save",
                                    "stat": "str",
                                    "success": [],
                                    "fail": [
                                        {
                                            "type": "ieffect2",
                                            "name": "Prone",
                                            "duration": "-1",
                                            "effects": {
                                                "attack_advantage": "-1"
                                            },
                                            "buttons": [
                                                {
                                                    "automation": [
                                                        {
                                                            "type": "remove_ieffect"
                                                        }
                                                    ],
                                                    "label": "Stand Up",
                                                    "verb": "stands up",
                                                    "style": "1"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "counter",
                            "counter": "Channel the Force",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "text",
                            "text": "Once per turn when you hit with a melee weapon attack, you can expend a use of your Channel the Force to attempt to unbalance your opponent. The target must make a Strength saving throw. On a failed save, it is pushed up to 10 feet away from you and knocked prone."
                        }
                    ]
                }
            }
        ]
    },
    {
        "Class": "Guardiandark",
        "subclass": "Mastery",
        "counters": [
            {
                "name": "Superiority Dice",
                "level": 3,
                "value": "proficiencyBonus",
                "reset": "short",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Way of the Katarn",
                "level": 3,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            },
            {
                "name": "Master of the Forms",
                "level": 20,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "GuardiandarkLevel"
            }
        ]
    },
    {
        "Class": "Monk",
        "hitDie": "d8",
        "subclassLevel": 3,
        "counters": [
            {
                "name": "Focus Points",
                "level": 2,
                "classLevel": "MonkLevel",
                "value": "MonkLevel",
                "reset": "short",
                "display": "default",
                "desc": "Uou can spend these points to fuel various focus features. You start knowing three such features: Flurry of Blows, Patient Defense, and Step of the Wind. You learn more focus features as you gain levels in this class.\n\nWhen you spend a focus point, it is unavailable until you finish a short or long rest, at the end of which you draw all of your expended focus back into yourself. You must spend at least 30 minutes of the rest meditating to regain your focus points."
            }
        ],
        "actions": [
            {
                "level": 2,
                "action": {
                    "name": "Flurry of Blows",
                    "_v": 2,
                    "activation_type": 3,
                    "automation": [
                        {
                            "type": "counter",
                            "counter": "Focus Points",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "text",
                            "text": "When you make your Martial Arts bonus action attack, you can spend 1 focus point to make an additional unarmed strike (no action required). At 11th level, you can instead spend 2 focus points to make two additional unarmed strikes."
                        }
                    ]
                }
            },
            {
                "level": 2,
                "action": {
                    "name": "Patient Defense",
                    "_v": 2,
                    "activation_type": 3,
                    "automation": [
                        {
                            "type": "counter",
                            "counter": "Focus Points",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "target",
                            "target": "self",
                            "effects": [
                                {
                                    "type": "ieffect2",
                                    "name": "Dodging",
                                    "duration": "1",
                                    "effects": {
                                        "save_adv": [
                                            "dex"
                                        ]
                                    },
                                    "desc": "Until the start of your next turn:\n - Any attack roll made against you has disadvantage if you can see the attacker.\n - You make Dexterity saving throws with advantage.\nYou lose this benefit if you are incapacitated or if your speed drops to 0."
                                }
                            ]
                        },
                        {
                            "type": "text",
                            "text": "When you use your bonus action to Disengage, you can spend 1 focus point to also Dodge (no action required). At 11th level, you can instead spend 2 focus points to Dodge and gain an additional reaction until the start of your next turn."
                        }
                    ]
                }
            },
            {
                "level": 2,
                "action": {
                    "name": "Step of the Wind",
                    "_v": 2,
                    "activation_type": 3,
                    "automation": [
                        {
                            "type": "counter",
                            "counter": "Focus Points",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "text",
                            "text": "When you use your bonus action to Dash, you can spend 1 focus point to double your jump distance for the turn. At 11th level, you can instead spend 2 focus points to gain a flying speed equal to your walking speed until the end of your turn, though you fall if you end your speed in the air and nothing else is holding you aloft."
                        }
                    ]
                }
            },
            {
                "level": 3,
                "action": {
                    "name": "Deflect Missiles",
                    "_v": 2,
                    "activation_type": 4,
                    "automation": [
                        {
                            "type": "counter",
                            "counter": "Deflect Missiles",
                            "amount": 0,
                            "errorBehaviour": "ignore"
                        },
                        {
                            "type": "variable",
                            "name": "monkLevel",
                            "value": "caster.levels.get('Monk')"
                        },
                        {
                            "type": "condition",
                            "condition": "lastCounterRequestedAmount",
                            "onTrue": [
                                {
                                    "type": "target",
                                    "target": "self",
                                    "effects": [
                                        {
                                            "type": "damage",
                                            "damage": "-(1d10+{dexterityMod}+{monkLevel}, {lastCounterRequestedAmount})kl1 [reduce]"
                                        }
                                    ]
                                }
                            ],
                            "onFalse": [
                                {
                                    "type": "roll",
                                    "dice": "1d10+{dexterityMod}+{monkLevel}",
                                    "name": "Amount Deflected"
                                }
                            ]
                        },
                        {
                            "type": "text",
                            "text": "You can use your reaction to deflect a projectile when you are dealt damage by a ranged weapon attack. When you do so, the damage you take from the attack is reduced by 1d10 + your Dexterity modifier + your monk level.\n\nIf you reduce the damage to 0, and the damage is kinetic, energy, or ion, you can redirect it at another target if you have a weapon capable of doing so. You can spend 1 focus point to make a ranged attack with a range of 20/60 as you deflect the projectile, as part of the same reaction. You make this attack with proficiency, regardless of your weapon proficiencies, and the projectile counts as a monk weapon for the attack."
                        }
                    ]
                }
            },
            {
                "level": 3,
                "action": {
                    "name": "Redirect - Deflect Missiles",
                    "_v": 2,
                    "activation_type": 4,
                    "automation": [
                        {
                            "type": "variable",
                            "name": "monkLevel",
                            "value": "caster.levels.get('Monk')"
                        },
                        {
                            "type": "variable",
                            "name": "dieSize",
                            "value": "4 if monkLevel < 5 else 6 if monkLevel < 9 else 8 if monkLevel < 13 else 10 if monkLevel < 17 else 12"
                        },
                        {
                            "type": "counter",
                            "counter": "Focus Points",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "target",
                            "target": "each",
                            "effects": [
                                {
                                    "type": "attack",
                                    "hit": [
                                        {
                                            "type": "damage",
                                            "damage": "1d{dieSize}+{dexterityMod} [kinetic]"
                                        }
                                    ],
                                    "miss": [],
                                    "attackBonus": "proficiencyBonus+dexterityMod"
                                }
                            ]
                        },
                        {
                            "type": "text",
                            "text": "You can use your reaction to deflect a projectile when you are dealt damage by a ranged weapon attack. When you do so, the damage you take from the attack is reduced by 1d10 + your Dexterity modifier + your monk level.\n\nIf you reduce the damage to 0, and the damage is kinetic, energy, or ion, you can redirect it at another target if you have a weapon capable of doing so. You can spend 1 focus point to make a ranged attack with a range of 20/60 as you deflect the projectile, as part of the same reaction. You make this attack with proficiency, regardless of your weapon proficiencies, and the projectile counts as a monk weapon for the attack."
                        }
                    ]
                }
            },
            {
                "level": 5,
                "action": {
                    "name": "Stunning Strike",
                    "_v": 2,
                    "activation_type": 2,
                    "automation": [
                        {
                            "type": "counter",
                            "counter": "Focus Points",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "variable",
                            "name": "VowOfTheFocused",
                            "value": "VowOfTheFocused",
                            "onError": 0
                        },
                        {
                            "type": "target",
                            "target": "each",
                            "effects": [
                                {
                                    "type": "save",
                                    "stat": "con",
                                    "dc": "8+proficiencyBonus+max(wisdomMod,charismaMod)+VowOfTheFocused",
                                    "success": [],
                                    "fail": [
                                        {
                                            "type": "ieffect2",
                                            "name": "Stunned",
                                            "duration": 2,
                                            "tick_on_caster": true,
                                            "end": true,
                                            "desc": "A stunned creature is incapacitated (see the condition), can't move, and can speak only falteringly.\n - The creature automatically fails Strength and Dexterity saving throws, as if it had rolled a 1 on the save.\n - Attack rolls against the creature have advantage."
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "text",
                            "text": "You can interfere with an opponent’s body. When you hit another creature with a melee weapon attack, you can spend 1 focus point to attempt a stunning strike. The target must succeed on a Constitution saving throw or be stunned until the end of your next turn."
                        }
                    ]
                }
            },
            {
                "level": "14",
                "action": {
                    "name": "Diamond Soul",
                    "_v": 2,
                    "activation_type": 2,
                    "automation": [
                        {
                            "type": "counter",
                            "counter": "Focus Points",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "text",
                            "text": "Your mastery of focus grants you proficiency in all saving throws, and when you fail a saving throw, you can spend 1 focus point to reroll it, taking the new roll."
                        }
                    ]
                }
            },
            {
                "level": "18",
                "action": {
                    "name": "Empty Body",
                    "_v": 2,
                    "activation_type": 1,
                    "automation": [
                        {
                            "type": "counter",
                            "counter": "Focus Points",
                            "amount": 4,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "target",
                            "target": "self",
                            "effects": [
                                {
                                    "type": "ieffect2",
                                    "name": "Empty Body - Invisible",
                                    "duration": 10,
                                    "desc": "You can use your action to spend 4 focus points to become invisible for 1 minute. During that time, you also have resistance to all damage but force damage.",
                                    "effects": {
                                        "resistances": [
                                            "acid",
                                            "cold",
                                            "energy",
                                            "fire",
                                            "ion",
                                            "kinetic",
                                            "lightning",
                                            "necrotic",
                                            "poison",
                                            "psychic",
                                            "sonic"
                                        ]
                                    }
                                }
                            ]
                        },
                        {
                            "type": "text",
                            "text": "You can use your action to spend 4 focus points to become invisible for 1 minute. During that time, you also have resistance to all damage but force damage."
                        }
                    ]
                }
            }
        ]
    },
    {
        "Class": "Monk",
        "subclass": "Crimson",
        "counters": [
            {
                "name": "Sovereign Protector",
                "level": 17,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "MonkLevel"
            }
        ]
    },
    {
        "Class": "Monk",
        "subclass": "Echani",
        "counters": []
    },
    {
        "Class": "Monk",
        "subclass": "Matukai Light",
        "counters": [
            {
                "name": "Absorb Damage",
                "level": 11,
                "value": "wisdomMod",
                "reset": "long",
                "display": "bubble",
                "classLevel": "MonkLevel"
            }
        ]
    },
    {
        "Class": "Monk",
        "subclass": "Matukai Dark",
        "counters": [
            {
                "name": "Absorb Damage",
                "level": 11,
                "value": "charismaMod",
                "reset": "long",
                "display": "bubble",
                "classLevel": "MonkLevel"
            }
        ]
    },
    {
        "Class": "Monk",
        "subclass": "Nightsister",
        "counters": []
    },
    {
        "Class": "Monk",
        "subclass": "Aing-Tii Light",
        "counters": [
            {
                "name": "Force Points",
                "level": 3,
                "value": "MonkLevel",
                "modifier": "wisdomMod",
                "reset": "long",
                "display": "default",
                "classLevel": "MonkLevel"
            },
            {
                "name": "Flow-Walking",
                "level": 6,
                "value": "wisdomMod",
                "reset": "long",
                "display": "bubble",
                "classLevel": "MonkLevel"
            }
        ]
    },
    {
        "Class": "Monk",
        "subclass": "Aing-Tii Dark",
        "counters": [
            {
                "name": "Force Points",
                "level": 3,
                "value": "MonkLevel",
                "modifier": "charismaMod",
                "reset": "long",
                "display": "default",
                "classLevel": "MonkLevel"
            },
            {
                "name": "Flow-Walking",
                "level": 6,
                "value": "charismaMod",
                "reset": "long",
                "display": "bubble",
                "classLevel": "MonkLevel"
            }
        ]
    },
    {
        "Class": "Monk",
        "subclass": "Jal Shey",
        "counters": []
    },
    {
        "Class": "Monk",
        "subclass": "Kage Light",
        "counters": [
            {
                "name": "Disruptive Shock",
                "level": 6,
                "value": "wisdomMod",
                "reset": "short",
                "display": "bubble",
                "classLevel": "MonkLevel"
            }
        ]
    },
    {
        "Class": "Monk",
        "subclass": "Kage Dark",
        "counters": [
            {
                "name": "Disruptive Shock",
                "level": 6,
                "value": "charismaMod",
                "reset": "short",
                "display": "bubble",
                "classLevel": "MonkLevel"
            }
        ]
    },
    {
        "Class": "Monk",
        "subclass": "Krovar",
        "counters": [
            {
                "name": "Elemental Adept",
                "level": 6,
                "value": "proficiencyBonus",
                "reset": "long",
                "display": "bubble",
                "classLevel": "MonkLevel"
            },
            {
                "name": "Elemental Paragon",
                "level": 17,
                "value": 1,
                "reset": "long",
                "display": "bubble",
                "classLevel": "MonkLevel"
            }
        ]
    },
    {
        "Class": "Monk",
        "subclass": "Kyuzo",
        "counters": []
    },
    {
        "Class": "Monk",
        "subclass": "Teras Kasi",
        "counters": [
            {
                "name": "Forredari Stance",
                "level": 3,
                "classLevel": "MonkLevel",
                "value": 1,
                "reset": "long",
                "display": "default"
            },
            {
                "name": "Steel Hands Form",
                "level": 6,
                "classLevel": "MonkLevel",
                "value": 1,
                "reset": "long",
                "display": "default"
            }
        ],
        "actions": [
            {
                "level": 3,
                "action": {
                    "name": "Forredari Stance",
                    "_v": 2,
                    "activation_type": 3,
                    "automation": [
                        {
                            "type": "target",
                            "target": "self",
                            "effects": [
                                {
                                    "type": "ieffect2",
                                    "name": "Forredari Stance",
                                    "desc": "Sleeping Krayt - You can use your focus ability modifier instead of Strength whenever you would make a Strength check or a Strength saving throw. Additionally, you have advantage on saving throws against being charmed or frightened.",
                                    "duration": 10,
                                    "attacks": [
                                        {
                                            "attack": {
                                                "name": "Death Weave - THP",
                                                "_v": 2,
                                                "activation_type": 2,
                                                "automation": [
                                                    {
                                                        "type": "variable",
                                                        "value": "ceil(caster.levels.get('Monk')/2)+max(charismaMod,wisdomMod)",
                                                        "name": "thp"
                                                    },
                                                    {
                                                        "type": "target",
                                                        "target": "self",
                                                        "effects": [
                                                            {
                                                                "type": "temphp",
                                                                "amount": "{thp}"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "text",
                                                        "text": "When you reduce a creature to 0 hit points, you gain temporary hit points equal to your focus ability modifier + half your monk level."
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "attack": {
                                                "name": "Gundark Slap",
                                                "_v": 2,
                                                "activation_type": 2,
                                                "automation": [
                                                    {
                                                        "type": "target",
                                                        "target": "each",
                                                        "effects": [
                                                            {
                                                                "type": "ieffect2",
                                                                "name": "Gundark Slap",
                                                                "duration": "2",
                                                                "end": true,
                                                                "tick_on_caster": true,
                                                                "desc": "Unable to take reactions"
                                                            },
                                                            {
                                                                "type": "text",
                                                                "text": "Once on each of your turns, when you hit a creature with an unarmed strike or a monk weapon, you can choose to make it unable to take reactions until the end of your next turn."
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "counter",
                            "counter": "Forredari Stance",
                            "amount": 1,
                            "errorBehaviour": "ignore"
                        },
                        {
                            "type": "condition",
                            "condition": "lastCounterName is None",
                            "onTrue": [
                                {
                                    "type": "counter",
                                    "counter": "Focus Points",
                                    "amount": 1,
                                    "errorBehaviour": "raise"
                                },
                                {
                                    "type": "text",
                                    "text": "Maximum focus points are reduced by 1 until you complete a long rest."
                                }
                            ],
                            "onFalse": []
                        },
                        {
                            "type": "text",
                            "text": "Your honed focus allows you to enter a stance of mental fortification and power. You can use your bonus action to enter this stance. When you do so, you unleash a flurry of blows on creatures of your choice that you can see within 10 feet of you. Each creature in the area must make a Dexterity saving throw (DC = 8 + your bonus to attacks with the weapon) or take the weapon’s normal damage.\n\nThis stance lasts for 1 minute. While you are in this stance, you gain the following benefits:",
                            "title": "Effect"
                        },
                        {
                            "type": "text",
                            "title": "Benefits",
                            "text": "Death Weave. When you reduce a creature to 0 hit points, you gain temporary hit points equal to your focus ability modifier + half your monk level.\nGundark Slap. Once on each of your turns, when you hit a creature with an unarmed strike or a monk weapon, you can choose to make it unable to take reactions until the end of your next turn.\nSleeping Krayt. You can use your focus ability modifier instead of Strength whenever you would make a Strength check or a Strength saving throw. Additionally, you have advantage on saving throws against being charmed or frightened."
                        },
                        {
                            "type": "text",
                            "title": "Effect Cont'd",
                            "text": "These effects end early if you are incapacitated or die. Once you’ve used this feature, you can’t use it again until you finish a long rest.\n\nWhile you have no remaining uses of this feature, you can instead expend 1 focus point to use it. When you do so, your maximum focus points are reduced by 1 until you complete a long rest."
                        }
                    ]
                }
            },
            {
                "level": 6,
                "action": {
                    "name": "Steel Hands Form",
                    "_v": 2,
                    "activation_type": 3,
                    "automation": [
                        {
                            "type": "target",
                            "target": "self",
                            "effects": [
                                {
                                    "type": "ieffect2",
                                    "name": "Steel Hands Form",
                                    "duration": 10,
                                    "attacks": [
                                        {
                                            "attack": {
                                                "name": "Charging Wampa",
                                                "_v": 2,
                                                "activation_type": 2,
                                                "automation": [
                                                    {
                                                        "type": "text",
                                                        "text": "Once per round, when you are forced to make a saving throw against a force power, your movement speed increases by 10 feet until the end of your next turn."
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "attack": {
                                                "name": "Nexu Grin",
                                                "_v": 2,
                                                "activation_type": 4,
                                                "automation": [
                                                    {
                                                        "type": "counter",
                                                        "counter": "Focus Point",
                                                        "amount": 1,
                                                        "errorBehaviour": "raise"
                                                    },
                                                    {
                                                        "type": "text",
                                                        "text": "When a creature you can see within 10 feet of you casts a force power that requires a force attack roll against you or an an allied creature, you can use your reaction and expend 1 focus point to impose disadvantage on the attack roll. If the attack misses, and the higher of the two d20 rolls would also miss, the creature cannot cast that force power again until it completes a short or long rest."
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "attack": {
                                                "name": "Screaming Squill",
                                                "_v": 2,
                                                "activation_type": 2,
                                                "automation": [
                                                    {
                                                        "type": "variable",
                                                        "name": "VowOfTheFocused",
                                                        "value": "VowOfTheFocused",
                                                        "onError": 0
                                                    },
                                                    {
                                                        "type": "target",
                                                        "target": "each",
                                                        "effects": [
                                                            {
                                                                "type": "save",
                                                                "stat": "con",
                                                                "dc": "8+proficiencyBonus+max(wisdomMod,charismaMod)+VowOfTheFocused",
                                                                "success": [],
                                                                "fail": []
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "text",
                                                        "text": "Once per turn, when you hit a creature that is concentrating on a force power and it makes a Constitution saving throw to maintain concentration, the DC for the check equals your focus save DC, unless the DC for the Constitution saving throw would be higher."
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "counter",
                            "counter": "Steel Hands Form",
                            "amount": 1,
                            "errorBehaviour": "raise"
                        },
                        {
                            "type": "condition",
                            "condition": "lastCounterName is None",
                            "onTrue": [
                                {
                                    "type": "counter",
                                    "counter": "Focus Points",
                                    "amount": 1,
                                    "errorBehaviour": "raise"
                                },
                                {
                                    "type": "text",
                                    "text": "Maximum focus points are reduced by 1 until you complete a long rest."
                                }
                            ],
                            "onFalse": []
                        },
                        {
                            "type": "text",
                            "title": "Effect",
                            "text": "You can draw upon your focus to utilize an array of practiced techniques to strike your opponents with precision and power. You can use your bonus action to enter this stance, and when you do so, you can also enter your Forredari Stance as a part of this same bonus action. This form lasts for 1 minute. While you are in this stance, you gain the following benefits."
                        },
                        {
                            "type": "text",
                            "title": "Benefits",
                            "text": "Charging Wampa. Once per round, when you are forced to make a saving throw against a force power, your movement speed increases by 10 feet until the end of your next turn.\nNexu Grin. When a creature you can see within 10 feet of you casts a force power that requires a force attack roll against you or an an allied creature, you can use your reaction and expend 1 focus point to impose disadvantage on the attack roll. If the attack misses, and the higher of the two d20 rolls would also miss, the creature cannot cast that force power again until it completes a short or long rest.\nScreaming Squill. Once per turn, when you hit a creature that is concentrating on a force power and it makes a Constitution saving throw to maintain concentration, the DC for the check equals your focus save DC, unless the DC for the Constitution saving throw would be higher."
                        },
                        {
                            "type": "text",
                            "title": "Effect Cont'd",
                            "text": "These effects end early if you are incapacitated or die. Once you’ve used this feature, you can’t use it again until you finish a long rest.\n\nWhile you have no remaining uses of this feature, you can instead expend 1 focus point to use it. When you do so, your maximum focus points are reduced by 1 until you complete a long rest."
                        }
                    ]
                }
            },
            {
                "level": 11,
                "action": {
                    "name": "Matter over Mind",
                    "_v": 2,
                    "activation_type": "2",
                    "automation": [
                        {
                            "type": "target",
                            "target": "self",
                            "effects": [
                                {
                                    "type": "ieffect2",
                                    "name": "Matter Over Mind",
                                    "attacks": [
                                        {
                                            "attack": {
                                                "name": "Dancing Dragonsnake",
                                                "_v": 2,
                                                "activation_type": 4,
                                                "automation": [
                                                    {
                                                        "type": "counter",
                                                        "counter": "damageAmountDummyCounter",
                                                        "amount": 0,
                                                        "errorBehaviour": "ignore"
                                                    },
                                                    {
                                                        "type": "variable",
                                                        "name": "VowOfTheFocused",
                                                        "value": "VowOfTheFocused",
                                                        "onError": 0
                                                    },
                                                    {
                                                        "type": "variable",
                                                        "name": "monkLevel",
                                                        "value": "caster.levels.get('Monk')"
                                                    },
                                                    {
                                                        "type": "condition",
                                                        "condition": "lastCounterRequestedAmount",
                                                        "onTrue": [
                                                            {
                                                                "type": "target",
                                                                "target": "self",
                                                                "effects": [
                                                                    {
                                                                        "type": "damage",
                                                                        "damage": "-(1d10+{max(wisdomMod,charismaMod)+VowOfTheFocused}+{monkLevel}, {lastCounterRequestedAmount})kl1 [reduce]"
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        "onFalse": [
                                                            {
                                                                "type": "roll",
                                                                "dice": "1d10+{dexterityMod}+{monkLevel}",
                                                                "name": "Amount Deflected"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "text",
                                                        "text": "When you take force, lightning, or necrotic damage, you can use your reaction to deflect it. When you do so, the damage you take is reduced by 1d10 + your focus ability modifier + your monk level."
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "attack": {
                                                "name": "Aryx Slash",
                                                "activation_type": 2,
                                                "_v": 2,
                                                "automation": [
                                                    {
                                                        "type": "variable",
                                                        "name": "monkLevel",
                                                        "value": "caster.levels.get('Monk')"
                                                    },
                                                    {
                                                        "type": "variable",
                                                        "name": "dieSize",
                                                        "value": "4 if monkLevel < 5 else 6 if monkLevel < 9 else 8 if monkLevel < 13 else 10 if monkLevel < 17 else 12"
                                                    },
                                                    {
                                                        "type": "target",
                                                        "target": "each",
                                                        "effects": [
                                                            {
                                                                "type": "damage",
                                                                "damage": "1d{dieSize} [psychic]"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "text",
                                                        "text": "Once on each of your turns, when you hit a target with an unarmed strike or monk weapon, you can roll a Martial Arts die and deal additional psychic damage equal to the amount rolled."
                                                    }
                                                ]
                                            }
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "text",
                            "title": "Effect",
                            "text": "You tap into the greater power of your focus. While both your Forredari Stance and your Steel Hands Form are active, you gain the following benefits:"
                        },
                        {
                            "type": "text",
                            "title": "Benefits",
                            "text": "Dancing Dragonsnake. When you take force, lightning, or necrotic damage, you can use your reaction to deflect it. When you do so, the damage you take is reduced by 1d10 + your focus ability modifier + your monk level.\nAryx Slash. Once on each of your turns, when you hit a target with an unarmed strike or monk weapon, you can roll a Martial Arts die and deal additional psychic damage equal to the amount rolled.\nPiercing Gaze. When you would make an Insight check against a creature you know to wield the Force, you can use your focus ability modifier for the roll, and you are considered to have expertise in the Insight skill. If you would already have expertise in the check, you instead have advantage on the roll."
                        }
                    ]
                }
            },
            {
                "level": 17,
                "action": {
                    "name": "Spitting Rawl",
                    "_v": 2,
                    "activation_type": 2,
                    "automation": [
                        {
                            "type": "target",
                            "target": "each",
                            "effects": [
                                {
                                    "type": "damage",
                                    "damage": "1d12 [psychic]"
                                },
                                {
                                    "type": "counter",
                                    "counter": "Focus Points",
                                    "amount": "1",
                                    "errorBehaviour": "raise"
                                }
                            ]
                        },
                        {
                            "type": "text",
                            "text": "You have learned to harness your strikes in a blistering fury. On your turn, when a creature takes damage from you three times, you can make up to three additional unarmed strikes against the creature (no action required). The first additional unarmed strike costs 1 focus point and deals 1d12 additional psychic damage on a hit, and each unarmed strike after the first costs 1 additional focus point and deals 1d12 additional psychic damage on a hit, cumulatively."
                        }
                    ]
                }
            }
        ]
    },
    {
        "Class": "Monk",
        "subclass": "Trickster",
        "counters": []
    },
    {
        "Class": "Monk",
        "subclass": "Whills",
        "counters": [
            {
                "name": "One With The Force",
                "level": 11,
                "value": 1,
                "reset": "short",
                "display": "bubble",
                "classLevel": "MonkLevel"
            }
        ]
    },
    {
        "Class": "Monk",
        "subclass": "Verdanaian",
        "counters": [
            {
                "name": "Sticky Body",
                "level": 3,
                "value": "proficiencyBonus",
                "reset": "long",
                "display": "bubble",
                "classLevel": "MonkLevel"
            }
        ]
    }
]